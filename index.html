<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Guia completo sobre recuperação de crédito, cartões e empréstimos. Compare taxas e encontre a melhor opção financeira para o seu perfil.">
    <meta name="keywords" content="empréstimo, cartão de crédito, nome sujo, score, finanças">
    <meta name="author" content="CrediFácil">
    
    <!-- Google AdSense (Script Principal) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1017585624443150" crossorigin="anonymous"></script>

    <!-- FIREBASE SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <title>CrediFácil | Guia de Crédito e Finanças Pessoais</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Ícones -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        brand: {
                            50: '#FEFCE8', 100: '#FEF9C3', 400: '#FACC15', 500: '#EAB308', 600: '#CA8A04', 900: '#713F12',
                        },
                        navy: { 800: '#18181b', 900: '#000000' }
                    }
                }
            }
        }
    </script>

    <style>
        body { -webkit-font-smoothing: antialiased; }
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .hidden-section { display: none; }
        .page-wrapper { display: flex; flex-direction: column; min-height: 100vh; }
        main { flex: 1; }
        .ad-slot { display: block; margin: 2rem auto; background-color: transparent; min-height: 90px; width: 100%; text-align: center; overflow: hidden; }
        .ad-slot:empty { background-color: #f9fafb; }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 page-wrapper">

    <!-- HEADER -->
    <header class="bg-black shadow-sm sticky top-0 z-50 border-b border-gray-800">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 cursor-pointer" onclick="navigateTo('home')">
                    <div class="flex items-center gap-2">
                        <div class="bg-brand-400 text-black p-2 rounded-lg"><i class="ph-fill ph-coins text-2xl"></i></div>
                        <span class="font-bold text-2xl text-white tracking-tight">Credi<span class="text-brand-400">Fácil</span></span>
                    </div>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#" onclick="navigateTo('home')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Início</a>
                    <a href="#" onclick="navigateTo('emprestimo')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Empréstimos</a>
                    <a href="#" onclick="navigateTo('cartoes')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Cartões</a>
                    <a href="#" onclick="navigateTo('blog')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Blog</a>
                    <a href="#" onclick="navigateTo('sobre')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Sobre</a>
                </nav>
                <div class="hidden md:flex">
                    <button onclick="navigateTo('emprestimo')" class="bg-brand-400 hover:bg-brand-500 text-black px-6 py-2.5 rounded-full font-bold transition shadow-lg flex items-center gap-2">
                        <span>Solicitar Empréstimo</span><i class="ph-bold ph-hand-coins"></i>
                    </button>
                </div>
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-white hover:text-brand-400 p-2"><i class="ph ph-list text-3xl"></i></button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-zinc-900 border-t border-gray-800 absolute w-full left-0 shadow-lg">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="#" onclick="navigateTo('home'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Início</a>
                <a href="#" onclick="navigateTo('emprestimo'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Empréstimos</a>
                <a href="#" onclick="navigateTo('cartoes'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Cartões</a>
                <a href="#" onclick="navigateTo('blog'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Blog</a>
                <a href="#" onclick="navigateTo('admin'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-brand-400 font-bold hover:bg-black rounded-md">Área Admin</a>
            </div>
        </div>
    </header>

    <main id="app-content" class="relative">
        <!-- HOME -->
        <section id="home" class="page-section fade-in">
            <div class="bg-black text-white relative overflow-hidden">
                <div class="absolute top-0 right-0 w-1/2 h-full bg-brand-400 opacity-10 skew-x-12 transform translate-x-20"></div>
                <div class="container mx-auto px-4 py-20 lg:py-32 relative z-10">
                    <div class="max-w-3xl">
                        <span class="bg-brand-400/20 text-brand-400 px-4 py-1 rounded-full text-sm font-bold tracking-wide uppercase mb-6 inline-block border border-brand-400/20">Sua liberdade financeira</span>
                        <h1 class="text-4xl lg:text-6xl font-extrabold leading-tight mb-6">Saia das dívidas e recupere seu <span class="text-brand-400">Crédito</span> hoje.</h1>
                        <p class="text-lg text-gray-400 mb-8 max-w-2xl">Conteúdo gratuito, análises de cartões para negativados e as melhores taxas de empréstimo.</p>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <button onclick="navigateTo('blog')" class="bg-brand-400 hover:bg-brand-500 text-black px-8 py-4 rounded-lg font-bold text-lg transition shadow-lg">Ver Artigos Gratuitos</button>
                            <button onclick="navigateTo('cartoes')" class="bg-white/5 hover:bg-white/10 backdrop-blur-sm text-white border border-white/20 px-8 py-4 rounded-lg font-bold text-lg transition">Melhores Cartões</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container mx-auto px-4">
                <div class="ad-slot w-full"><ins class="adsbygoogle-lazy" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
            </div>

            <div class="container mx-auto px-4 py-20">
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group">
                        <div class="bg-gray-900 w-14 h-14 rounded-xl flex items-center justify-center text-brand-400 mb-6 group-hover:scale-110 transition"><i class="ph ph-credit-card text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-black mb-3">Cartões Aprovados</h3>
                        <p class="text-gray-600">Análises de cartões que aprovam negativados e score baixo.</p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group">
                        <div class="bg-brand-50 w-14 h-14 rounded-xl flex items-center justify-center text-brand-600 mb-6 group-hover:scale-110 transition"><i class="ph ph-currency-dollar text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-black mb-3">Empréstimo Rápido</h3>
                        <p class="text-gray-600">Simule empréstimos em recomendações confiáveis.</p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group">
                        <div class="bg-gray-100 w-14 h-14 rounded-xl flex items-center justify-center text-gray-700 mb-6 group-hover:scale-110 transition"><i class="ph ph-graduation-cap text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-black mb-3">Educação Financeira</h3>
                        <p class="text-gray-600">Aprenda a negociar dívidas e aumentar seu score.</p>
                    </div>
                </div>
            </div>

            <div class="bg-gray-50 py-20 border-t border-gray-200">
                <div class="container mx-auto px-4">
                    <div class="flex justify-between items-end mb-12">
                        <div><h2 class="text-3xl font-bold text-black mb-2">Últimas do Blog</h2><p class="text-gray-600">Novidades do mercado financeiro.</p></div>
                        <a href="#" onclick="navigateTo('blog')" class="hidden md:flex text-brand-600 font-semibold items-center gap-1 hover:gap-2 transition-all">Ver todos <i class="ph ph-arrow-right"></i></a>
                    </div>
                    <div id="home-blog-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                </div>
            </div>
        </section>

        <!-- EMPRESTIMOS -->
        <section id="emprestimo" class="page-section hidden-section fade-in">
            <div class="bg-black text-white py-16">
                <div class="container mx-auto px-4 text-center">
                    <h1 class="text-4xl font-bold mb-4">Simulador de Empréstimo</h1>
                    <p class="text-gray-400 max-w-2xl mx-auto">Encontre a melhor taxa para o seu perfil.</p>
                </div>
            </div>
            <div class="container mx-auto px-4 py-16">
                <div class="ad-slot w-full"><ins class="adsbygoogle-lazy" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                <div class="grid lg:grid-cols-2 gap-12 items-start">
                    <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200 relative overflow-hidden">
                         <div class="absolute top-0 left-0 w-full h-1 bg-brand-400"></div>
                        <h3 class="text-2xl font-bold text-black mb-6 flex items-center gap-2"><i class="ph-fill ph-calculator text-brand-500"></i> Simule Agora</h3>
                        <form id="loan-form" onsubmit="calculateFinalLoan(event)" class="space-y-6">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Valor (R$)</label>
                                <input type="number" id="loan-amount" oninput="updateLiveCalculation()" class="w-full pl-4 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none transition text-lg font-bold text-black" placeholder="5000" min="500">
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-2">Parcelas</label>
                                    <select id="loan-term" onchange="updateLiveCalculation()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none bg-white text-black font-medium"><option value="12">12x</option><option value="24">24x</option><option value="36">36x</option><option value="48">48x</option></select>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-2">CPF</label>
                                    <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" placeholder="000.000.000-00">
                                </div>
                            </div>
                            <div id="live-preview" class="bg-gray-50 p-4 rounded-lg border border-gray-200 hidden">
                                <p class="text-sm text-gray-500 mb-1">Estimativa:</p>
                                <div class="flex items-end gap-1"><span class="text-2xl font-bold text-brand-600" id="live-installment">R$ 0,00</span><span class="text-sm text-gray-400 mb-1">/mês*</span></div>
                            </div>
                            <button type="submit" class="w-full bg-brand-400 hover:bg-brand-500 text-black font-bold py-4 rounded-lg transition transform hover:-translate-y-1 shadow-md">Ver Ofertas Disponíveis</button>
                            <p class="text-[10px] text-center text-gray-400 mt-4">* Simulação estimada. Sujeito a análise.</p>
                        </form>
                        <div id="loan-result" class="hidden mt-6 pt-6 border-t border-gray-200 animate-fade-in">
                            <div class="bg-brand-50 border border-brand-100 rounded-xl p-5 mb-4">
                                <div class="flex items-start gap-3">
                                    <div class="bg-brand-100 p-2 rounded-full text-brand-900"><i class="ph-fill ph-check-circle text-xl"></i></div>
                                    <div><h4 class="font-bold text-gray-900 text-lg">Pré-aprovação!</h4><p class="text-gray-700 text-sm mt-1">Recomendações encontradas.</p></div>
                                </div>
                            </div>
                            <div id="loan-recommendations-container" class="space-y-3"></div>
                        </div>
                    </div>
                    <div class="space-y-8">
                        <div><h2 class="text-3xl font-bold text-black mb-4">Como funciona?</h2><p class="text-gray-600">Algoritmo busca as melhores taxas em mais de 15 instituições.</p></div>
                        <div class="grid grid-cols-1 gap-4">
                            <div class="flex gap-4 p-4 bg-white rounded-xl border border-gray-200 hover:border-brand-400 transition items-start">
                                <div class="bg-gray-100 text-black w-12 h-12 flex items-center justify-center rounded-lg flex-shrink-0 mt-1"><i class="ph ph-shield-check text-2xl"></i></div>
                                <div><h4 class="font-bold text-black">Segurança</h4><p class="text-sm text-gray-600 mt-1">Nunca pedimos depósitos antecipados.</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CARTOES -->
        <section id="cartoes" class="page-section hidden-section fade-in">
            <div class="bg-white border-b border-gray-200 py-12">
                <div class="container mx-auto px-4 text-center">
                    <h1 class="text-4xl font-bold text-black mb-4">Catálogo de Cartões</h1>
                    <p class="text-gray-600 max-w-2xl mx-auto">Encontre o cartão ideal para o seu perfil.</p>
                </div>
            </div>
            <div class="container mx-auto px-4 py-16">
                <div class="ad-slot w-full"><ins class="adsbygoogle-lazy" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                <div class="flex flex-wrap gap-4 justify-center mb-12">
                    <button onclick="filterCards('todos')" id="btn-todos" class="filter-btn active px-6 py-2 bg-black text-white rounded-full text-sm font-medium transition shadow-md">Todos</button>
                    <button onclick="filterCards('anuidade')" id="btn-anuidade" class="filter-btn px-6 py-2 bg-white border border-gray-300 text-gray-600 hover:border-brand-400 hover:text-black rounded-full text-sm font-medium transition">Sem Anuidade</button>
                    <button onclick="filterCards('negativados')" id="btn-negativados" class="filter-btn px-6 py-2 bg-white border border-gray-300 text-gray-600 hover:border-brand-400 hover:text-black rounded-full text-sm font-medium transition">Para Negativados</button>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="cards-container"></div>
            </div>
        </section>

        <!-- BLOG -->
        <section id="blog" class="page-section hidden-section fade-in">
            <div class="bg-gray-100 py-16">
                <div class="container mx-auto px-4">
                    <div class="text-center max-w-3xl mx-auto mb-12">
                        <h1 class="text-4xl font-extrabold text-black mb-4">Blog e Notícias</h1>
                        <p class="text-gray-600 text-lg">Educação financeira descomplicada.</p>
                    </div>
                    <div class="ad-slot bg-white rounded-lg w-full"><ins class="adsbygoogle-lazy" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                    <div id="blog-list-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                </div>
            </div>
        </section>

        <!-- BLOG POST -->
        <section id="blog-post" class="page-section hidden-section fade-in">
            <div class="bg-white">
                <div class="bg-black text-white py-20">
                    <div class="container mx-auto px-4 max-w-4xl text-center">
                        <button onclick="navigateTo('blog')" class="text-gray-400 hover:text-white mb-8 flex items-center justify-center gap-2 transition"><i class="ph ph-arrow-left"></i> Voltar</button>
                        <span id="post-category" class="bg-brand-400/20 text-brand-400 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide">Categoria</span>
                        <h1 id="post-title" class="text-3xl md:text-5xl font-bold mt-4 mb-6 leading-tight">Título</h1>
                        <div class="flex items-center justify-center gap-4 text-gray-400 text-sm"><span id="post-date">Data</span></div>
                    </div>
                </div>
                <div class="container mx-auto px-4 py-12 flex flex-col lg:flex-row gap-12">
                    <article class="lg:w-2/3">
                        <div id="post-content" class="prose prose-lg prose-gray max-w-none text-gray-700">
                            <p class="text-xl leading-relaxed mb-8 font-medium text-gray-800 intro-text"></p>
                            <div class="body-content"></div>
                        </div>
                        <div class="ad-slot my-8 w-full"><ins class="adsbygoogle-lazy" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                    </article>
                    <aside class="lg:w-1/3 space-y-8">
                        <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                            <h4 class="font-bold text-black mb-4">Publicidade</h4>
                            <div class="ad-slot w-full bg-white rounded-lg"><ins class="adsbygoogle-lazy" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                        </div>
                    </aside>
                </div>
            </div>
        </section>

        <!-- ADMIN -->
        <section id="admin" class="page-section hidden-section fade-in">
            <div class="bg-white py-20">
                <div class="container mx-auto px-4 max-w-xl">
                    <h1 class="text-3xl font-bold text-black mb-8 text-center border-b border-gray-200 pb-4">Painel Administrativo</h1>
                    
                    <div id="admin-login" class="bg-gray-50 p-8 rounded-xl border border-gray-200 shadow-sm">
                        <h2 class="text-xl font-bold text-black mb-6 text-center">Login Seguro</h2>
                        <form onsubmit="handleLogin(event)" class="space-y-6">
                            <div><label class="block text-sm font-bold text-gray-700 mb-2">E-mail</label><input type="email" id="login-email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" required></div>
                            <div><label class="block text-sm font-bold text-gray-700 mb-2">Senha</label><input type="password" id="login-password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" required></div>
                            <button type="submit" class="w-full bg-black text-white hover:bg-gray-800 font-bold py-3 rounded-lg transition disabled:opacity-50">Entrar</button>
                            <p id="login-error" class="text-red-500 text-sm text-center hidden font-bold mt-4"></p>
                        </form>
                    </div>

                    <div id="admin-panel" class="hidden">
                        <div class="flex justify-between items-center mb-6">
                            <span class="text-green-600 font-bold flex items-center gap-2"><i class="ph-fill ph-check-circle"></i> Logado</span>
                            <button onclick="handleLogout()" class="text-sm text-red-500 hover:underline">Sair</button>
                        </div>
                        <div class="bg-gray-50 p-8 rounded-xl border border-gray-200 mb-12">
                            <h2 class="text-xl font-bold text-black mb-6">Adicionar Novo Post</h2>
                            <form onsubmit="addNewPost(event)" class="space-y-6">
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Título</label><input type="text" id="admin-title" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" required></div>
                                <div class="grid grid-cols-2 gap-6">
                                    <div><label class="block text-sm font-bold text-gray-700 mb-2">Categoria</label><select id="admin-category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none"><option>Score</option><option>Cartões</option><option>Empréstimos</option></select></div>
                                    <div><label class="block text-sm font-bold text-gray-700 mb-2">Autor</label><input type="text" id="admin-author" value="Redação" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none"></div>
                                </div>
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Imagem URL</label><input type="text" id="admin-image" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" required></div>
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Resumo</label><textarea id="admin-intro" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none"></textarea></div>
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Conteúdo HTML</label><textarea id="admin-content" rows="10" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none font-mono text-sm"></textarea></div>
                                <button type="submit" class="w-full bg-brand-400 hover:bg-brand-500 text-black font-bold py-3 rounded-lg transition shadow-md">Publicar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- OFFER SCREEN -->
        <section id="offer-screen" class="page-section hidden-section fade-in">
            <div class="min-h-screen bg-gray-50 flex flex-col">
                <div class="bg-black text-white py-12">
                    <div class="container mx-auto px-4 text-center">
                        <button onclick="navigateTo('emprestimo')" class="text-gray-400 hover:text-white mb-6 flex items-center justify-center gap-2 transition mx-auto"><i class="ph ph-arrow-left"></i> Voltar</button>
                        <h1 class="text-3xl font-bold mb-2">Detalhes</h1>
                        <p class="text-gray-400">Redirecionando para o parceiro oficial.</p>
                    </div>
                </div>
                <div class="container mx-auto px-4 -mt-8 pb-16 flex-1">
                    <div class="ad-slot bg-white rounded-lg w-full"><ins class="adsbygoogle-lazy" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                    <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden">
                        <div class="p-8 border-b border-gray-100">
                            <div class="flex justify-between items-start mb-6">
                                <div><p class="text-sm text-gray-500 mb-1">Instituição</p><h2 id="offer-partner-name" class="text-2xl font-bold text-black">Banco</h2></div>
                                <div class="bg-brand-100 text-brand-900 px-3 py-1 rounded-full text-xs font-bold uppercase border border-brand-200">Recomendado</div>
                            </div>
                            <div class="grid grid-cols-2 gap-8 mb-6">
                                <div><p class="text-sm text-gray-500 mb-1">Simulação</p><p id="offer-value" class="text-2xl font-bold text-black">R$ 0,00</p></div>
                                <div><p class="text-sm text-gray-500 mb-1">Parcelamento</p><p id="offer-installments" class="text-2xl font-bold text-brand-600">12x</p></div>
                            </div>
                        </div>
                        <div class="p-8 bg-white">
                            <button id="offer-cta-btn" class="w-full bg-brand-400 hover:bg-brand-500 text-black font-bold py-4 rounded-xl transition shadow-lg text-lg flex items-center justify-center gap-2">Continuar no Site Oficial <i class="ph-bold ph-arrow-right"></i></button>
                            <p class="text-center text-xs text-gray-400 mt-4 leading-tight">Você será redirecionado para o ambiente seguro da instituição.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-black text-gray-400 py-12 border-t border-gray-800">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8 mb-12">
                <div class="col-span-1 md:col-span-2">
                    <span class="font-bold text-xl text-white">CrediFácil</span>
                    <p class="text-sm mt-2">Seu guia confiável.</p>
                </div>
                <div><h4 class="text-white font-bold mb-4">Legal</h4><ul class="space-y-2 text-sm"><li><a href="#" onclick="navigateTo('admin')" class="hover:text-white">Admin</a></li></ul></div>
            </div>
            <div class="border-t border-gray-800 pt-8 text-xs text-gray-500"><p>&copy; 2025 CrediFácil.</p></div>
        </div>
    </footer>

    <!-- JS -->
    <script>
        // CONFIGURAÇÃO
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCJA-eq22kpGxAfHBDCcMu8BGb8_I8NGlk",
    authDomain: "credifacil-ddb17.firebaseapp.com",
    projectId: "credifacil-ddb17",
    storageBucket: "credifacil-ddb17.firebasestorage.app",
    messagingSenderId: "473150441862",
    appId: "1:473150441862:web:8f7b1945fa27c519c90407",
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
        let db, auth;
        let isFirebaseInitialized = true;

        // DADOS DOS CARTÕES (Estático)
        const cardsData = [
            { id: 1, name: "Santander SX", bgClass: "bg-red-600", iconBg: "bg-red-700", rotation: "rotate-45", badges: [{ text: "Aprovação Alta", color: "bg-green-100 text-green-700" }], annuity: "Grátis", income: "R$ 1.045", desc: "Ideal para score baixo.", link: "https://www.santander.com.br/cartao-credito-santander/sx", categories: ["todos", "negativados"] },
            { id: 2, name: "Nubank", bgClass: "bg-purple-700", iconBg: "bg-purple-800", rotation: "-rotate-12", badges: [{ text: "Sem Anuidade", color: "bg-purple-100 text-purple-700" }], annuity: "R$ 0,00", income: "Não exigida", desc: "Controle total pelo app.", link: "https://nubank.com.br/cartao/", categories: ["todos", "anuidade"] },
            { id: 3, name: "Inter", bgClass: "bg-orange-500", iconBg: "bg-orange-400", rotation: "rotate-0", isInter: true, badges: [{ text: "Cashback", color: "bg-orange-100 text-orange-700" }], annuity: "Grátis", income: "Não exigida", desc: "Super App completo.", link: "https://inter.co/pra-voce/cartoes/", categories: ["todos", "milhas"] }
        ];

        const fallbackPosts = [
            { id: 'f1', title: "Como aumentar seu Score", category: "Score", date: "Hoje", image: "https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=500", intro: "Dicas práticas para subir sua pontuação.", content: "<p>Conteúdo exemplo...</p>" },
            { id: 'f2', title: "Cartões para Negativados", category: "Cartões", date: "Ontem", image: "https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=500", intro: "Lista dos melhores cartões.", content: "<p>Conteúdo exemplo...</p>" }
        ];

        let blogPosts = [...fallbackPosts]; // Começa com fallback

        // INICIALIZAÇÃO
        document.addEventListener('DOMContentLoaded', () => {
            initFirebase();
            renderCards('todos');
            navigateTo('home');
        });

        function initFirebase() {
            if (firebaseConfig.apiKey !== "SUA_API_KEY_AQUI") {
                try {
                    firebase.initializeApp(firebaseConfig);
                    db = firebase.firestore();
                    auth = firebase.auth();
                    isFirebaseInitialized = true;
                    console.log("Firebase conectado.");
                    
                    // Listener de Auth
                    auth.onAuthStateChanged(user => {
                        const loginForm = document.getElementById('admin-login');
                        const panel = document.getElementById('admin-panel');
                        if (user) { loginForm.classList.add('hidden'); panel.classList.remove('hidden'); }
                        else { loginForm.classList.remove('hidden'); panel.classList.add('hidden'); }
                    });

                    fetchBlogPosts(); // Tenta buscar do servidor
                } catch (e) {
                    console.error("Erro Firebase:", e);
                }
            } else {
                console.warn("Modo Demo: Configure o Firebase no código.");
                renderBlog(); // Renderiza fallback
            }
        }

        async function fetchBlogPosts() {
            if (!db) return;
            try {
                const snap = await db.collection("posts").orderBy("createdAt", "desc").limit(10).get();
                if (!snap.empty) {
                    blogPosts = []; // Limpa fallback se tiver dados reais
                    snap.forEach(doc => blogPosts.push({ id: doc.id, ...doc.data() }));
                    renderBlog();
                }
            } catch (e) {
                console.warn("Falha ao buscar posts (pode ser permissão ou rede). Usando fallback.");
            }
        }

        // RENDERIZAÇÃO
        function renderBlog() {
            const grids = [document.getElementById('home-blog-grid'), document.getElementById('blog-list-container')];
            grids.forEach(grid => {
                if(!grid) return;
                grid.innerHTML = blogPosts.map(post => `
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition cursor-pointer flex flex-col h-full" onclick="openArticle('${post.id}')">
                        <div class="h-48 overflow-hidden relative"><img src="${post.image}" class="w-full h-full object-cover transform hover:scale-105 transition duration-500"><span class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-black z-20">${post.category}</span></div>
                        <div class="p-6 flex-1 flex flex-col"><span class="text-xs text-gray-500 mb-2 block">${post.date}</span><h3 class="text-xl font-bold text-black mb-3 hover:text-brand-600 transition">${post.title}</h3><p class="text-gray-600 text-sm mb-4 line-clamp-3 flex-1">${post.intro}</p><span class="text-brand-600 font-semibold text-sm flex items-center gap-1 mt-auto">Ler artigo <i class="ph-bold ph-arrow-right"></i></span></div>
                    </div>
                `).join('');
            });
        }

        function renderCards(filter) {
            const container = document.getElementById('cards-container');
            if(!container) return;
            const filtered = (filter === 'todos') ? cardsData : cardsData.filter(c => c.categories.includes(filter));
            container.innerHTML = filtered.map(card => `
                <div class="card-enter bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden border border-gray-100 flex flex-col">
                    <div class="p-6 flex flex-col items-center bg-gradient-to-b from-gray-50 to-white">
                        <div class="w-full h-40 ${card.bgClass} rounded-xl mb-6 shadow-md relative flex items-center justify-center text-white overflow-hidden">
                            <span class="font-bold text-2xl relative z-10">${card.name}</span>
                            ${card.isInter ? `<div class="absolute w-20 h-20 ${card.iconBg} rounded-full top-0 right-0 opacity-50"></div>` : `<div class="absolute inset-0 ${card.iconBg} opacity-50 transform ${card.rotation} translate-y-10"></div>`}
                        </div>
                        <h3 class="text-xl font-bold text-black">${card.name}</h3>
                        <div class="flex flex-wrap justify-center gap-2 mt-2">${card.badges.map(b => `<span class="text-xs font-semibold ${b.color} px-2 py-1 rounded">${b.text}</span>`).join('')}</div>
                    </div>
                    <div class="px-6 py-4 space-y-3 flex-1">
                        <div class="flex justify-between text-sm border-b border-gray-100 pb-2"><span class="text-gray-500">Anuidade</span><span class="font-medium text-black">${card.annuity}</span></div>
                        <div class="flex justify-between text-sm border-b border-gray-100 pb-2"><span class="text-gray-500">Renda</span><span class="font-medium text-black">${card.income}</span></div>
                        <p class="text-sm text-gray-600 mt-4">${card.desc}</p>
                    </div>
                    <div class="p-6 pt-0 mt-auto"><a href="${card.link}" target="_blank" class="block w-full text-center bg-brand-400 hover:bg-brand-500 text-black font-bold py-3 rounded-lg transition">Solicitar Cartão <i class="ph ph-arrow-up-right"></i></a></div>
                </div>
            `).join('');
        }

        // LÓGICA DE LOGIN COM TIMEOUT
        function handleLogin(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const errorMsg = document.getElementById('login-error');
            const email = document.getElementById('login-email').value;
            const pass = document.getElementById('login-password').value;

            btn.innerText = "Verificando...";
            btn.disabled = true;
            errorMsg.classList.add('hidden');

            if (!isFirebaseInitialized) {
                setTimeout(() => { alert("Modo Demo: Login simulado (sem banco de dados)."); document.getElementById('admin-login').classList.add('hidden'); document.getElementById('admin-panel').classList.remove('hidden'); btn.innerText = "Entrar"; btn.disabled = false; }, 1000);
                return;
            }

            // Race condition: Se o Firebase não responder em 10s, mostra erro
            const timeout = new Promise((_, reject) => setTimeout(() => reject(new Error("Tempo limite excedido. Verifique sua conexão.")), 10000));
            const login = auth.signInWithEmailAndPassword(email, pass);

            Promise.race([login, timeout])
                .then(() => { btn.innerText = "Sucesso!"; }) // AuthStateListener vai trocar a tela
                .catch(err => {
                    console.error(err);
                    errorMsg.textContent = "Erro: " + (err.code === 'auth/invalid-credential' ? "Dados incorretos." : err.message);
                    errorMsg.classList.remove('hidden');
                    btn.innerText = "Entrar";
                    btn.disabled = false;
                });
        }

        function handleLogout() { if(auth) auth.signOut(); else window.location.reload(); }

        function addNewPost(e) {
            e.preventDefault();
            if(!db) { alert("Modo Demo: Post salvo localmente (não persistente)."); return; }
            const post = {
                title: document.getElementById('admin-title').value,
                category: document.getElementById('admin-category').value,
                author: document.getElementById('admin-author').value,
                image: document.getElementById('admin-image').value,
                intro: document.getElementById('admin-intro').value,
                content: document.getElementById('admin-content').value,
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                date: new Date().toLocaleDateString('pt-BR')
            };
            db.collection("posts").add(post).then(() => { alert("Postado!"); e.target.reset(); fetchBlogPosts(); }).catch(err => alert("Erro: " + err.message));
        }

        // OUTROS
        function navigateTo(id) {
            document.querySelectorAll('.page-section').forEach(s => s.classList.add('hidden-section'));
            const section = document.getElementById(id);
            if(section) {
                section.classList.remove('hidden-section');
                section.classList.remove('fade-in');
                void section.offsetWidth;
                section.classList.add('fade-in');
                window.scrollTo(0,0);
                // AdSense Loader Seguro
                setTimeout(() => {
                    section.querySelectorAll('ins.adsbygoogle-lazy').forEach(ad => {
                        if(ad.offsetWidth > 0) {
                            ad.classList.remove('adsbygoogle-lazy');
                            ad.classList.add('adsbygoogle');
                            try{ (adsbygoogle = window.adsbygoogle || []).push({}); }catch(e){}
                        }
                    });
                }, 500);
            }
        }
        
        function openArticle(id) {
            const post = blogPosts.find(p => p.id == id);
            if(!post) return;
            document.getElementById('post-title').textContent = post.title;
            document.getElementById('post-category').textContent = post.category;
            document.getElementById('post-date').textContent = post.date;
            document.querySelector('#post-content .intro-text').textContent = post.intro;
            document.querySelector('#post-content .body-content').innerHTML = post.content;
            navigateTo('blog-post');
        }

        // SIMULADOR
        const loanPartners = [
            { name: "Nubank", url: "https://nubank.com.br/" }, { name: "Inter", url: "https://inter.co/" }
        ];
        function updateLiveCalculation() {
            const v = document.getElementById('loan-amount').value, t = document.getElementById('loan-term').value;
            if(v > 0) document.getElementById('live-installment').textContent = (v * 0.035 * Math.pow(1.035, t) / (Math.pow(1.035, t) - 1)).toLocaleString('pt-BR', {style:'currency', currency:'BRL'});
        }
        function calculateFinalLoan(e) {
            e.preventDefault();
            const res = document.getElementById('loan-result'), cont = document.getElementById('loan-recommendations-container');
            cont.innerHTML = loanPartners.map(p => `
                <div onclick="openOffer('${p.name}', '${p.url}')" class="flex justify-between items-center p-3 bg-white border rounded-lg hover:border-brand-400 cursor-pointer mb-2">
                    <span class="font-bold">${p.name}</span><span class="text-sm text-brand-600 font-bold">Ver Oferta ></span>
                </div>`).join('');
            res.classList.remove('hidden');
        }
        function openOffer(name, url) {
            document.getElementById('offer-partner-name').textContent = name;
            document.getElementById('offer-cta-btn').onclick = () => window.open(url, '_blank');
            navigateTo('offer-screen');
        }
        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }
    </script>
</body>
</html>
