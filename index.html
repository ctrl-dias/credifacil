<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Guia completo sobre recupera√ß√£o de cr√©dito, cart√µes e empr√©stimos. Compare taxas e encontre a melhor op√ß√£o financeira para o seu perfil.">
    <meta name="keywords" content="empr√©stimo, cart√£o de cr√©dito, nome sujo, score, finan√ßas">
    <meta name="author" content="CrediF√°cil">
    
    <!-- Google AdSense (Script Principal) -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1017585624443150" crossorigin="anonymous"></script>

    <!-- FIREBASE SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <title>CrediF√°cil | Guia de Cr√©dito e Finan√ßas Pessoais</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- √çcones -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        brand: {
                            50: '#FEFCE8', 100: '#FEF9C3', 400: '#FACC15', 500: '#EAB308', 600: '#CA8A04', 900: '#713F12',
                        },
                        navy: { 800: '#18181b', 900: '#000000' }
                    }
                }
            }
        }
    </script>

    <style>
        body { -webkit-font-smoothing: antialiased; }
        .fade-in { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .hidden-section { display: none; }
        .page-wrapper { display: flex; flex-direction: column; min-height: 100vh; }
        main { flex: 1; }
        /* Ad Slot fixo para evitar CLS e erros de largura */
        .ad-slot { 
            display: block; 
            margin: 2rem auto; 
            background-color: #f9fafb; 
            min-height: 90px; 
            width: 100%; 
            max-width: 100%;
            text-align: center; 
            overflow: hidden; 
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 page-wrapper">

    <!-- HEADER -->
    <header class="bg-black shadow-sm sticky top-0 z-50 border-b border-gray-800">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0 cursor-pointer" onclick="navigateTo('home')">
                    <div class="flex items-center gap-2">
                        <div class="bg-brand-400 text-black p-2 rounded-lg"><i class="ph-fill ph-coins text-2xl"></i></div>
                        <span class="font-bold text-2xl text-white tracking-tight">Credi<span class="text-brand-400">F√°cil</span></span>
                    </div>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <a href="#" onclick="navigateTo('home')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">In√≠cio</a>
                    <a href="#" onclick="navigateTo('emprestimo')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Empr√©stimos</a>
                    <a href="#" onclick="navigateTo('cartoes')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Cart√µes</a>
                    <a href="#" onclick="navigateTo('blog')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Blog</a>
                    <a href="#" onclick="navigateTo('sobre')" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition">Sobre</a>
                </nav>
                <div class="hidden md:flex">
                    <button onclick="navigateTo('emprestimo')" class="bg-brand-400 hover:bg-brand-500 text-black px-6 py-2.5 rounded-full font-bold transition shadow-lg flex items-center gap-2">
                        <span>Solicitar Empr√©stimo</span><i class="ph-bold ph-hand-coins"></i>
                    </button>
                </div>
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-white hover:text-brand-400 p-2"><i class="ph ph-list text-3xl"></i></button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-zinc-900 border-t border-gray-800 absolute w-full left-0 shadow-lg">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="#" onclick="navigateTo('home'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">In√≠cio</a>
                <a href="#" onclick="navigateTo('emprestimo'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Empr√©stimos</a>
                <a href="#" onclick="navigateTo('cartoes'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Cart√µes</a>
                <a href="#" onclick="navigateTo('blog'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Blog</a>
                <a href="#" onclick="navigateTo('admin'); toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-brand-400 font-bold hover:bg-black rounded-md">√Årea Admin</a>
            </div>
        </div>
    </header>

    <main id="app-content" class="relative">
        <!-- HOME -->
        <section id="home" class="page-section fade-in">
            <div class="bg-black text-white relative overflow-hidden">
                <div class="absolute top-0 right-0 w-1/2 h-full bg-brand-400 opacity-10 skew-x-12 transform translate-x-20"></div>
                <div class="container mx-auto px-4 py-20 lg:py-32 relative z-10">
                    <div class="max-w-3xl">
                        <span class="bg-brand-400/20 text-brand-400 px-4 py-1 rounded-full text-sm font-bold tracking-wide uppercase mb-6 inline-block border border-brand-400/20">Sua liberdade financeira</span>
                        <h1 class="text-4xl lg:text-6xl font-extrabold leading-tight mb-6">Saia das d√≠vidas e recupere seu <span class="text-brand-400">Cr√©dito</span> hoje.</h1>
                        <p class="text-lg text-gray-400 mb-8 max-w-2xl">
                            Conte√∫do gratuito, an√°lises de cart√µes para negativados e as melhores taxas de empr√©stimo. Tudo para voc√™ reorganizar sua vida financeira.
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <button onclick="navigateTo('blog')" class="bg-brand-400 hover:bg-brand-500 text-black px-8 py-4 rounded-lg font-bold text-lg transition shadow-lg">Ver Artigos Gratuitos</button>
                            <button onclick="navigateTo('cartoes')" class="bg-white/5 hover:bg-white/10 backdrop-blur-sm text-white border border-white/20 px-8 py-4 rounded-lg font-bold text-lg transition">Melhores Cart√µes</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container mx-auto px-4">
                <div class="ad-slot w-full">
                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
                </div>
            </div>

            <div class="container mx-auto px-4 py-20">
                <div class="grid md:grid-cols-3 gap-8">
                    <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group">
                        <div class="bg-gray-900 w-14 h-14 rounded-xl flex items-center justify-center text-brand-400 mb-6 group-hover:scale-110 transition"><i class="ph ph-credit-card text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-black mb-3">Cart√µes Aprovados</h3>
                        <p class="text-gray-600">Analisamos centenas de cart√µes para encontrar os que realmente aprovam negativados e pessoas com score baixo.</p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group">
                        <div class="bg-brand-50 w-14 h-14 rounded-xl flex items-center justify-center text-brand-600 mb-6 group-hover:scale-110 transition"><i class="ph ph-currency-dollar text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-black mb-3">Empr√©stimo R√°pido</h3>
                        <p class="text-gray-600">Simule empr√©stimos em recomenda√ß√µes confi√°veis. Dinheiro na conta r√°pido e com parcelas que cabem no bolso.</p>
                    </div>
                    <div class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group">
                        <div class="bg-gray-100 w-14 h-14 rounded-xl flex items-center justify-center text-gray-700 mb-6 group-hover:scale-110 transition"><i class="ph ph-graduation-cap text-3xl"></i></div>
                        <h3 class="text-xl font-bold text-black mb-3">Educa√ß√£o Financeira</h3>
                        <p class="text-gray-600">Aprenda a negociar d√≠vidas, aumentar seu score e investir seu dinheiro com nossos guias completos.</p>
                    </div>
                </div>
            </div>

            <div class="bg-gray-50 py-20 border-t border-gray-200">
                <div class="container mx-auto px-4">
                    <div class="flex justify-between items-end mb-12">
                        <div><h2 class="text-3xl font-bold text-black mb-2">√öltimas do Blog</h2><p class="text-gray-600">Fique por dentro das novidades do mercado financeiro.</p></div>
                        <a href="#" onclick="navigateTo('blog')" class="hidden md:flex text-brand-600 font-semibold items-center gap-1 hover:gap-2 transition-all">Ver todos <i class="ph ph-arrow-right"></i></a>
                    </div>
                    <div id="home-blog-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                </div>
            </div>
        </section>

        <!-- EMPRESTIMOS -->
        <section id="emprestimo" class="page-section hidden-section fade-in">
            <div class="bg-black text-white py-16">
                <div class="container mx-auto px-4 text-center">
                    <h1 class="text-4xl font-bold mb-4">Simulador de Empr√©stimo Inteligente</h1>
                    <p class="text-gray-400 max-w-2xl mx-auto">Encontre a melhor taxa para o seu perfil e veja na hora o valor estimado da parcela.</p>
                </div>
            </div>
            <div class="container mx-auto px-4 py-16">
                <div class="ad-slot w-full"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                <div class="grid lg:grid-cols-2 gap-12 items-start">
                    <div class="bg-white p-8 rounded-2xl shadow-lg border border-gray-200 relative overflow-hidden">
                         <div class="absolute top-0 left-0 w-full h-1 bg-brand-400"></div>
                        <h3 class="text-2xl font-bold text-black mb-6 flex items-center gap-2"><i class="ph-fill ph-calculator text-brand-500"></i> Simule Agora</h3>
                        <form id="loan-form" onsubmit="calculateFinalLoan(event)" class="space-y-6">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-2">Quanto voc√™ precisa? (R$)</label>
                                <input type="number" id="loan-amount" oninput="updateLiveCalculation()" class="w-full pl-4 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none transition text-lg font-bold text-black" placeholder="5000" min="500">
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-2">Parcelas</label>
                                    <select id="loan-term" onchange="updateLiveCalculation()" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none bg-white text-black font-medium"><option value="12">12x</option><option value="24">24x</option><option value="36">36x</option><option value="48">48x</option></select>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-2">CPF</label>
                                    <input type="text" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" placeholder="000.000.000-00">
                                </div>
                            </div>
                            <div id="live-preview" class="bg-gray-50 p-4 rounded-lg border border-gray-200 hidden">
                                <p class="text-sm text-gray-500 mb-1">Estimativa de parcela:</p>
                                <div class="flex items-end gap-1"><span class="text-2xl font-bold text-brand-600" id="live-installment">R$ 0,00</span><span class="text-sm text-gray-400 mb-1">/m√™s*</span></div>
                            </div>
                            <button type="submit" class="w-full bg-brand-400 hover:bg-brand-500 text-black font-bold py-4 rounded-lg transition transform hover:-translate-y-1 shadow-md">Ver Ofertas Dispon√≠veis</button>
                            <p class="text-[10px] text-center text-gray-400 mt-4">* Simula√ß√£o estimada. A aprova√ß√£o de cr√©dito n√£o √© garantida e depende da an√°lise da institui√ß√£o.</p>
                        </form>
                        <div id="loan-result" class="hidden mt-6 pt-6 border-t border-gray-200 animate-fade-in">
                            <div class="bg-brand-50 border border-brand-100 rounded-xl p-5 mb-4">
                                <div class="flex items-start gap-3">
                                    <div class="bg-brand-100 p-2 rounded-full text-brand-900"><i class="ph-fill ph-check-circle text-xl"></i></div>
                                    <div><h4 class="font-bold text-gray-900 text-lg">Pr√©-aprova√ß√£o Dispon√≠vel!</h4><p class="text-gray-700 text-sm mt-1">Recomenda√ß√µes encontradas para seu perfil.</p></div>
                                </div>
                            </div>
                            <div id="loan-recommendations-container" class="space-y-3"></div>
                        </div>
                    </div>
                    <div class="space-y-8">
                        <div><h2 class="text-3xl font-bold text-black mb-4">Como funciona?</h2><p class="text-gray-600">Nosso algoritmo busca as melhores taxas em mais de 15 institui√ß√µes financeiras simultaneamente. Mesmo se voc√™ estiver negativado, temos recomenda√ß√µes especializadas.</p></div>
                        <div class="grid grid-cols-1 gap-4">
                            <div class="flex gap-4 p-4 bg-white rounded-xl border border-gray-200 hover:border-brand-400 transition items-start">
                                <div class="bg-gray-100 text-black w-12 h-12 flex items-center justify-center rounded-lg flex-shrink-0 mt-1"><i class="ph ph-shield-check text-2xl"></i></div>
                                <div><h4 class="font-bold text-black">Seguran√ßa 100%</h4><p class="text-sm text-gray-600 mt-1">Seus dados s√£o criptografados. Nunca pedimos dep√≥sitos antecipados para liberar cr√©dito.</p></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CARTOES -->
        <section id="cartoes" class="page-section hidden-section fade-in">
            <div class="bg-white border-b border-gray-200 py-12">
                <div class="container mx-auto px-4 text-center">
                    <h1 class="text-4xl font-bold text-black mb-4">Melhores Cart√µes de Cr√©dito</h1>
                    <p class="text-gray-600 max-w-2xl mx-auto">Use os filtros abaixo para encontrar o cart√£o ideal para o seu perfil financeiro.</p>
                </div>
            </div>
            <div class="container mx-auto px-4 py-16">
                <div class="ad-slot w-full"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                <div class="flex flex-wrap gap-4 justify-center mb-12">
                    <button onclick="filterCards('todos')" id="btn-todos" class="filter-btn active px-6 py-2 bg-black text-white rounded-full text-sm font-medium transition shadow-md">Todos</button>
                    <button onclick="filterCards('anuidade')" id="btn-anuidade" class="filter-btn px-6 py-2 bg-white border border-gray-300 text-gray-600 hover:border-brand-400 hover:text-black rounded-full text-sm font-medium transition">Sem Anuidade</button>
                    <button onclick="filterCards('negativados')" id="btn-negativados" class="filter-btn px-6 py-2 bg-white border border-gray-300 text-gray-600 hover:border-brand-400 hover:text-black rounded-full text-sm font-medium transition">Para Negativados</button>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="cards-container"></div>
            </div>
        </section>

        <!-- BLOG -->
        <section id="blog" class="page-section hidden-section fade-in">
            <div class="bg-gray-100 py-16">
                <div class="container mx-auto px-4">
                    <div class="text-center max-w-3xl mx-auto mb-12">
                        <h1 class="text-4xl font-extrabold text-black mb-4">Blog de Educa√ß√£o Financeira</h1>
                        <p class="text-gray-600 text-lg">Artigos, guias e not√≠cias para voc√™ tomar as melhores decis√µes com seu dinheiro.</p>
                    </div>
                    <div class="ad-slot bg-white rounded-lg w-full"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                    <div id="blog-list-container" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
                </div>
            </div>
        </section>

        <!-- BLOG POST -->
        <section id="blog-post" class="page-section hidden-section fade-in">
            <div class="bg-white">
                <div class="bg-black text-white py-20">
                    <div class="container mx-auto px-4 max-w-4xl text-center">
                        <button onclick="navigateTo('blog')" class="text-gray-400 hover:text-white mb-8 flex items-center justify-center gap-2 transition"><i class="ph ph-arrow-left"></i> Voltar para o Blog</button>
                        <span id="post-category" class="bg-brand-400/20 text-brand-400 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wide">Categoria</span>
                        <h1 id="post-title" class="text-3xl md:text-5xl font-bold mt-4 mb-6 leading-tight">T√≠tulo do Artigo</h1>
                        <div class="flex items-center justify-center gap-4 text-gray-400 text-sm"><span id="post-author">Por Reda√ß√£o CrediF√°cil</span> ‚Ä¢ <span id="post-date">Data</span></div>
                    </div>
                </div>
                <div class="container mx-auto px-4 py-12 flex flex-col lg:flex-row gap-12">
                    <article class="lg:w-2/3">
                        <div id="post-content" class="prose prose-lg prose-gray max-w-none text-gray-700">
                            <p class="text-xl leading-relaxed mb-8 font-medium text-gray-800 intro-text"></p>
                            <div class="body-content"></div>
                        </div>
                        <div class="ad-slot my-8 w-full"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                    </article>
                    <aside class="lg:w-1/3 space-y-8">
                        <div class="bg-gray-50 p-6 rounded-xl border border-gray-200">
                            <h4 class="font-bold text-black mb-4">Publicidade</h4>
                            <div class="ad-slot w-full bg-white rounded-lg"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                        </div>
                    </aside>
                </div>
            </div>
        </section>

        <!-- ADMIN -->
        <section id="admin" class="page-section hidden-section fade-in">
            <div class="bg-white py-20">
                <div class="container mx-auto px-4 max-w-xl">
                    <h1 class="text-3xl font-bold text-black mb-8 text-center border-b border-gray-200 pb-4">Painel Administrativo</h1>
                    
                    <div id="demo-warning" class="hidden mb-6 p-4 bg-yellow-50 border border-yellow-200 text-yellow-800 rounded-lg text-sm">
                        <strong>Modo de Demonstra√ß√£o:</strong> Cole suas chaves do Firebase no c√≥digo (linha ~750) para salvar no banco de dados real.
                    </div>

                    <div id="admin-login" class="bg-gray-50 p-8 rounded-xl border border-gray-200 shadow-sm">
                        <h2 class="text-xl font-bold text-black mb-6 text-center">Login Seguro</h2>
                        <form onsubmit="handleLogin(event)" class="space-y-6">
                            <div><label class="block text-sm font-bold text-gray-700 mb-2">E-mail</label><input type="email" id="login-email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" required></div>
                            <div><label class="block text-sm font-bold text-gray-700 mb-2">Senha</label><input type="password" id="login-password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" required></div>
                            <button type="submit" class="w-full bg-black text-white hover:bg-gray-800 font-bold py-3 rounded-lg transition disabled:opacity-50">Entrar</button>
                            <p id="login-error" class="text-red-500 text-sm text-center hidden font-bold mt-4"></p>
                        </form>
                    </div>

                    <div id="admin-panel" class="hidden">
                        <div class="flex justify-between items-center mb-6">
                            <span class="text-green-600 font-bold flex items-center gap-2"><i class="ph-fill ph-check-circle"></i> Logado</span>
                            <button onclick="handleLogout()" class="text-sm text-red-500 hover:underline">Sair</button>
                        </div>
                        <div class="bg-gray-50 p-8 rounded-xl border border-gray-200 mb-12">
                            <h2 class="text-xl font-bold text-black mb-6">Adicionar Novo Post</h2>
                            <form onsubmit="addNewPost(event)" class="space-y-6">
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">T√≠tulo</label><input type="text" id="admin-title" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" required></div>
                                <div class="grid grid-cols-2 gap-6">
                                    <div><label class="block text-sm font-bold text-gray-700 mb-2">Categoria</label><select id="admin-category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none"><option>Score</option><option>Cart√µes</option><option>Empr√©stimos</option></select></div>
                                    <div><label class="block text-sm font-bold text-gray-700 mb-2">Autor</label><input type="text" id="admin-author" value="Reda√ß√£o CrediF√°cil" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none"></div>
                                </div>
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Imagem URL</label><input type="text" id="admin-image" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none" required></div>
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Resumo</label><textarea id="admin-intro" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none"></textarea></div>
                                <div><label class="block text-sm font-bold text-gray-700 mb-2">Conte√∫do HTML</label><textarea id="admin-content" rows="10" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-400 outline-none font-mono text-sm"></textarea></div>
                                <button type="submit" class="w-full bg-brand-400 hover:bg-brand-500 text-black font-bold py-3 rounded-lg transition shadow-md">Publicar</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- OFFER SCREEN -->
        <section id="offer-screen" class="page-section hidden-section fade-in">
            <div class="min-h-screen bg-gray-50 flex flex-col">
                <div class="bg-black text-white py-12">
                    <div class="container mx-auto px-4 text-center">
                        <button onclick="navigateTo('emprestimo')" class="text-gray-400 hover:text-white mb-6 flex items-center justify-center gap-2 transition mx-auto"><i class="ph ph-arrow-left"></i> Voltar para Simula√ß√£o</button>
                        <h1 class="text-3xl font-bold mb-2">Detalhes da Recomenda√ß√£o</h1>
                        <p class="text-gray-400">Voc√™ ser√° redirecionado para o site oficial.</p>
                    </div>
                </div>
                <div class="container mx-auto px-4 -mt-8 pb-16 flex-1">
                    <div class="ad-slot bg-white rounded-lg w-full"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                    <div class="max-w-2xl mx-auto bg-white rounded-2xl shadow-xl border border-gray-200 overflow-hidden">
                        <div class="p-8 border-b border-gray-100">
                            <div class="flex justify-between items-start mb-6">
                                <div><p class="text-sm text-gray-500 mb-1">Institui√ß√£o Recomendada</p><h2 id="offer-partner-name" class="text-2xl font-bold text-black">Banco</h2></div>
                                <div class="bg-brand-100 text-brand-900 px-3 py-1 rounded-full text-xs font-bold uppercase border border-brand-200">Pr√©-Aprovado</div>
                            </div>
                            <div class="grid grid-cols-2 gap-8 mb-6">
                                <div><p class="text-sm text-gray-500 mb-1">Valor Solicitado</p><p id="offer-value" class="text-2xl font-bold text-black">R$ 0,00</p></div>
                                <div><p class="text-sm text-gray-500 mb-1">Condi√ß√£o de Pagamento</p><p id="offer-installments" class="text-2xl font-bold text-brand-600">12x R$ 0,00</p></div>
                            </div>
                        </div>
                        <div class="p-8 bg-white">
                            <h3 class="font-bold text-black mb-4">Vantagens desta oferta:</h3>
                            <ul class="space-y-3 mb-8">
                                <li class="flex items-center gap-3 text-gray-700"><i class="ph-fill ph-check-circle text-brand-500 text-xl"></i><span>Sem necessidade de garantia de bens.</span></li>
                                <li class="flex items-center gap-3 text-gray-700"><i class="ph-fill ph-check-circle text-brand-500 text-xl"></i><span>Processo 100% digital e sem burocracia.</span></li>
                                <li class="flex items-center gap-3 text-gray-700"><i class="ph-fill ph-check-circle text-brand-500 text-xl"></i><span>Dinheiro na conta em at√© 24 horas √∫teis.</span></li>
                            </ul>
                            <button id="offer-cta-btn" class="w-full bg-brand-400 hover:bg-brand-500 text-black font-bold py-4 rounded-xl transition shadow-lg text-lg flex items-center justify-center gap-2">Continuar no Site Oficial <i class="ph-bold ph-arrow-right"></i></button>
                            <p class="text-center text-xs text-gray-400 mt-4 leading-tight">Aten√ß√£o: Ao clicar, voc√™ ser√° redirecionado para o site oficial. A aprova√ß√£o de cr√©dito n√£o √© garantida e depende da an√°lise da institui√ß√£o.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SOBRE -->
        <section id="sobre" class="page-section hidden-section fade-in">
            <div class="container mx-auto px-4 py-20">
                <div class="max-w-4xl mx-auto text-center">
                    <div class="inline-block p-4 rounded-full bg-brand-50 text-brand-600 mb-6"><i class="ph ph-users text-4xl"></i></div>
                    <h1 class="text-4xl font-bold text-black mb-6">Nossa Miss√£o</h1>
                    <p class="text-xl text-gray-600 leading-relaxed mb-12">
                        O "CrediF√°cil" nasceu com um prop√≥sito claro: democratizar o acesso √† informa√ß√£o financeira de qualidade. Acreditamos que todos merecem uma segunda chance e as ferramentas certas para construir um futuro pr√≥spero, longe das d√≠vidas abusivas.
                    </p>
                </div>
                <div class="grid md:grid-cols-2 gap-12 mt-16 max-w-5xl mx-auto items-center">
                    <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Equipe" class="rounded-2xl shadow-xl">
                    <div class="space-y-6">
                        <h2 class="text-2xl font-bold text-black">Por que confiar em n√≥s?</h2>
                        <ul class="space-y-4">
                            <li class="flex items-start gap-3"><i class="ph-fill ph-check-circle text-brand-500 text-xl mt-1"></i><span class="text-gray-600">Conte√∫do 100% imparcial e verificado por especialistas.</span></li>
                            <li class="flex items-start gap-3"><i class="ph-fill ph-check-circle text-brand-500 text-xl mt-1"></i><span class="text-gray-600">Recomenda√ß√µes transparentes com institui√ß√µes financeiras regulamentadas.</span></li>
                            <li class="flex items-start gap-3"><i class="ph-fill ph-check-circle text-brand-500 text-xl mt-1"></i><span class="text-gray-600">Mais de 500 mil leitores ajudados anualmente.</span></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- TERMOS E PRIVACIDADE -->
        <section id="terms" class="page-section hidden-section fade-in">
            <div class="bg-white py-20">
                <div class="container mx-auto px-4 max-w-3xl">
                    <h1 class="text-3xl font-bold text-black mb-8">Termos de Uso</h1>
                    <div class="prose prose-gray text-gray-700 text-sm">
                        <p class="mb-4"><strong>1. Aceita√ß√£o:</strong> Ao acessar o CrediF√°cil, voc√™ concorda em cumprir estes termos de servi√ßo, todas as leis e regulamentos aplic√°veis.</p>
                        <p class="mb-4"><strong>2. Natureza do Servi√ßo:</strong> O CrediF√°cil √© um portal estritamente informativo. N√£o somos uma institui√ß√£o financeira, n√£o realizamos empr√©stimos, n√£o emitimos cart√µes e n√£o garantimos aprova√ß√£o de cr√©dito. As simula√ß√µes s√£o estimativas baseadas em dados de mercado.</p>
                        <p class="mb-4"><strong>3. Precis√£o dos Materiais:</strong> Os materiais exibidos no site do CrediF√°cil podem incluir erros t√©cnicos, tipogr√°ficos ou fotogr√°ficos. N√£o garantimos que qualquer material em seu site seja preciso, completo ou atual, embora nos esforcemos para tal.</p>
                        <p class="mb-4"><strong>4. Links:</strong> O CrediF√°cil n√£o analisou todos os sites vinculados ao seu site e n√£o √© respons√°vel pelo conte√∫do de nenhum site vinculado (links externos para bancos/parceiros). A inclus√£o de qualquer link n√£o implica endosso por CrediF√°cil.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="privacy" class="page-section hidden-section fade-in">
            <div class="bg-white py-20">
                <div class="container mx-auto px-4 max-w-3xl">
                    <h1 class="text-3xl font-bold text-black mb-8">Pol√≠tica de Privacidade</h1>
                    <div class="prose prose-gray text-gray-700 text-sm">
                        <p class="mb-4">A sua privacidade √© importante para n√≥s. √â pol√≠tica do CrediF√°cil respeitar a sua privacidade em rela√ß√£o a qualquer informa√ß√£o que possamos coletar.</p>
                        <h3 class="font-bold mt-4 mb-2">Cookies e Publicidade</h3>
                        <p class="mb-4">Utilizamos cookies para melhorar sua experi√™ncia e veicular an√∫ncios personalizados atrav√©s do Google AdSense. O Google, como fornecedor de terceiros, utiliza cookies para exibir an√∫ncios. O uso do cookie DART permite que o Google veicule an√∫ncios para nossos usu√°rios com base em sua visita ao nosso site e a outros sites na Internet.</p>
                        <h3 class="font-bold mt-4 mb-2">Dados Pessoais</h3>
                        <p class="mb-4">N√£o vendemos ou compartilhamos suas informa√ß√µes de identifica√ß√£o pessoal publicamente ou com terceiros, exceto quando exigido por lei.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-black text-gray-400 py-12 border-t border-gray-800">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-8 mb-12">
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center gap-2 text-white mb-4">
                        <i class="ph-fill ph-check-circle text-brand-400 text-xl"></i>
                        <span class="font-bold text-xl">CrediF√°cil</span>
                    </div>
                    <p class="text-sm max-w-md mb-4">O site que te ajuda a sair das d√≠vidas. Conte√∫do informativo sobre finan√ßas, cart√µes de cr√©dito e empr√©stimos.</p>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4">Links R√°pidos</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" onclick="navigateTo('home')" class="hover:text-brand-400 transition">In√≠cio</a></li>
                        <li><a href="#" onclick="navigateTo('emprestimo')" class="hover:text-brand-400 transition">Simulador</a></li>
                        <li><a href="#" onclick="navigateTo('cartoes')" class="hover:text-brand-400 transition">Cart√µes</a></li>
                        <li><a href="#" onclick="navigateTo('blog')" class="hover:text-brand-400 transition">Blog</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-4">Legal</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" onclick="navigateTo('terms')" class="hover:text-brand-400 transition">Termos de Uso</a></li>
                        <li><a href="#" onclick="navigateTo('privacy')" class="hover:text-brand-400 transition">Pol√≠tica de Privacidade</a></li>
                        <li><a href="#" onclick="navigateTo('admin')" class="hover:text-brand-400 transition text-gray-600">Admin</a></li>
                    </ul>
                </div>
            </div>
            
            <!-- Aviso Legal Obrigat√≥rio (YMYL) - RESTAURADO -->
            <div class="border-t border-gray-800 pt-8 pb-8 text-xs text-gray-500 text-justify">
                <p class="mb-2"><strong>Isen√ß√£o de Responsabilidade (Disclaimer):</strong> O CrediF√°cil (credifacil.com) √© um blog informativo e n√£o atua como institui√ß√£o financeira, banco ou credora. N√£o realizamos empr√©stimos pessoais, n√£o emitimos cart√µes de cr√©dito e n√£o somos respons√°veis pela aprova√ß√£o ou nega√ß√£o de cr√©dito. Todo o conte√∫do disposto neste site tem car√°ter meramente informativo.</p>
                <p class="mb-2"><strong>Seguran√ßa:</strong> O CrediF√°cil jamais solicitar√° quantias em dinheiro para libera√ß√£o de nenhum tipo de produto financeiro, seja cart√£o de cr√©dito, financiamento ou empr√©stimo. Se isso acontecer, denuncie imediatamente.</p>
                <p>As propostas e simula√ß√µes realizadas atrav√©s de links de parceiros est√£o sujeitas √† an√°lise de cr√©dito e aos termos de uso de cada institui√ß√£o financeira. As taxas de juros podem variar de acordo com o perfil de cada usu√°rio.</p>
            </div>

            <div class="text-center text-xs pt-4 border-t border-gray-800">
                <p>&copy; 2025 CrediF√°cil. Todos os direitos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- COOKIE BANNER -->
    <div id="cookie-banner" class="fixed bottom-0 left-0 w-full bg-white text-gray-900 p-6 z-50 flex flex-col md:flex-row justify-between items-center gap-4 border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] transform translate-y-full transition-transform duration-500">
        <div class="text-sm text-center md:text-left">
            <p><strong>üç™ Pol√≠tica de Cookies:</strong> Utilizamos cookies para personalizar conte√∫do e an√∫ncios (AdSense), fornecer recursos de m√≠dia social e analisar nosso tr√°fego. Ao continuar, voc√™ concorda com nossa <a href="#" onclick="navigateTo('privacy')" class="text-brand-600 underline font-bold">Pol√≠tica de Privacidade</a>.</p>
        </div>
        <div class="flex gap-3 shrink-0">
             <button onclick="acceptCookies()" class="bg-black text-white px-6 py-2.5 rounded-full text-sm font-bold hover:bg-gray-800 transition">Aceitar Tudo</button>
        </div>
    </div>

    <!-- JAVASCRIPT LOGIC -->
    <script>
        // =========================================================================
        // ‚ö†Ô∏è ATEN√á√ÉO: COLE SUAS CREDENCIAIS DO FIREBASE AQUI EMBAIXO
        // =========================================================================
        // 1. Aceda a https://console.firebase.google.com/ e crie um novo projeto.
        // 2. Registre uma aplica√ß√£o Web (√≠cone </>) para obter as chaves abaixo.
        // 3. No menu "Cria√ß√£o" > "Authentication", ative o m√©todo "E-mail/Senha".
        // 4. No menu "Cria√ß√£o" > "Firestore Database", crie um banco de dados.
        // 5. Substitua os valores abaixo (mantendo as aspas ""):
        // =========================================================================
        
        const firebaseConfig = {
          apiKey: "AIzaSyCJA-eq22kpGxAfHBDCcMu8BGb8_I8NGlk",
  authDomain: "credifacil-ddb17.firebaseapp.com",
  projectId: "credifacil-ddb17",
  storageBucket: "credifacil-ddb17.firebasestorage.app",
  messagingSenderId: "473150441862",
  appId: "1:473150441862:web:8f7b1945fa27c519c90407",
  measurementId: "G-RSHX4BZRG0"
        };
        
        // =========================================================================

        let db, auth;
        let isFirebaseInitialized = false;

        // DADOS DOS CART√ïES (Est√°tico) - Restaurado cardsData
        const cardsData = [
            { id: 1, name: "Santander SX", bgClass: "bg-red-600", iconBg: "bg-red-700", rotation: "rotate-45", badges: [{ text: "Aprova√ß√£o Alta", color: "bg-green-100 text-green-700" }, { text: "Visa/Master", color: "bg-blue-100 text-blue-700" }], annuity: "Gr√°tis (gastando R$100)", income: "R$ 1.045,00", desc: "Ideal para quem busca o primeiro cart√£o ou quer recuperar cr√©dito no mercado.", link: "https://www.santander.com.br/cartao-credito-santander/sx", categories: ["todos", "negativados"] },
            { id: 2, name: "Roxinho Nubank", bgClass: "bg-purple-700", iconBg: "bg-purple-800", rotation: "-rotate-12", badges: [{ text: "Sem Anuidade", color: "bg-purple-100 text-purple-700" }, { text: "Conta Digital", color: "bg-yellow-100 text-yellow-700" }], annuity: "R$ 0,00", income: "N√£o exigida", desc: "Controle total pelo app e descontos se antecipar parcelas.", link: "https://nubank.com.br/cartao/", categories: ["todos", "anuidade", "negativados"] },
            { id: 3, name: "Inter Gold", bgClass: "bg-orange-500", iconBg: "bg-orange-400", rotation: "rotate-0", isInter: true, badges: [{ text: "Cashback", color: "bg-orange-100 text-orange-700" }, { text: "Internacional", color: "bg-blue-100 text-blue-700" }], annuity: "Gr√°tis", income: "N√£o exigida", extraInfoLabel: "Cashback", extraInfoValue: "0.25% na fatura", desc: "Super App completo com investimentos e shopping.", link: "https://inter.co/pra-voce/cartoes/", categories: ["todos", "anuidade", "milhas"] },
             { id: 4, name: "C6 Carbon", bgClass: "bg-slate-800", iconBg: "bg-black", rotation: "rotate-12", badges: [{ text: "Pontos √Åtomos", color: "bg-slate-100 text-slate-700" }, { text: "Mastercard Black", color: "bg-slate-900 text-white" }], annuity: "12x R$ 85,00 (Isen√ß√£o poss√≠vel)", income: "R$ 5.000,00", desc: "2.5 pontos por d√≥lar e acesso a salas VIP em aeroportos.", link: "https://www.c6bank.com.br/cartao-c6-carbon", categories: ["todos", "milhas"] },
             { id: 5, name: "Neon", bgClass: "bg-cyan-500", iconBg: "bg-cyan-600", rotation: "-rotate-6", badges: [{ text: "Sem Anuidade", color: "bg-cyan-100 text-cyan-700" }, { text: "D√©bito e Cr√©dito", color: "bg-blue-100 text-blue-700" }], annuity: "Gr√°tis", income: "N√£o exigida", desc: "Cart√£o virtual na hora e investimentos que rendem mais que a poupan√ßa.", link: "https://neon.com.br/", categories: ["todos", "anuidade", "negativados"] },
             { id: 6, name: "Azul Ita√∫", bgClass: "bg-blue-600", iconBg: "bg-blue-800", rotation: "rotate-3", badges: [{ text: "Milhas A√©reas", color: "bg-blue-100 text-blue-700" }, { text: "Descontos", color: "bg-yellow-100 text-yellow-700" }], annuity: "12x R$ 30,00", income: "R$ 1.500,00", desc: "Ganhe pontos TudoAzul em todas as compras e descontos em passagens.", link: "https://www.itau.com.br/cartoes/escolha/azul-itau-internacional-visa-msg", categories: ["todos", "milhas"] }
        ];

        // Posts de Fallback (Caso Firebase falhe ou esteja vazio)
        const fallbackPosts = [
            { id: 'f1', title: "Como aumentar seu Score em 30 dias: O Guia Definitivo", category: "Score", date: "10 Dez, 2025", image: "https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=500", intro: "Muitos brasileiros sofrem com score baixo mesmo pagando as contas em dia. Descubra os segredos que os bancos n√£o te contam.", content: "<p class='mb-4'>O Score de cr√©dito √© a porta de entrada para financiamentos e cart√µes com limites altos...</p>" },
            { id: 'f2', title: "5 Cart√µes de Cr√©dito que aprovam Negativados em 2025", category: "Cart√µes", date: "08 Dez, 2025", image: "https://images.unsplash.com/photo-1559526324-4b87b5e36e44?w=500", intro: "Estar com o nome sujo n√£o significa o fim da linha. Bancos digitais est√£o apostando nesse p√∫blico com limites iniciais.", content: "<p>Se voc√™ tem restri√ß√µes no CPF, os grandes bancos tradicionais provavelmente v√£o te negar...</p>" },
            { id: 'f3', title: "Empr√©stimo Pessoal vs Consignado: Qual escolher?", category: "Empr√©stimos", date: "05 Dez, 2025", image: "https://images.unsplash.com/photo-1565514020179-0c2235c8227a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60", intro: "Entenda as taxas de juros e os riscos de cada modalidade antes de assinar o contrato.", content: "<p>A principal diferen√ßa est√° na garantia de pagamento.</p>" }
        ];

        let blogPosts = [...fallbackPosts];

        // INICIALIZA√á√ÉO
        document.addEventListener('DOMContentLoaded', () => {
            initFirebase();
            renderCards('todos');
            navigateTo('home');
            setTimeout(checkCookies, 1500);
        });

        function initFirebase() {
            // Verifica se o usu√°rio preencheu as credenciais reais
            if (firebaseConfig.apiKey !== "AIzaSyCJA-eq22kpGxAfHBDCcMu8BGb8_I8NGlk") {
                try {
                    firebase.initializeApp(firebaseConfig);
                    db = firebase.firestore();
                    auth = firebase.auth();
                    isFirebaseInitialized = true;
                    console.log("Firebase conectado.");
                    
                    // Listener de Auth
                    auth.onAuthStateChanged(user => {
                        const loginForm = document.getElementById('admin-login');
                        const panel = document.getElementById('admin-panel');
                        const demoWarning = document.getElementById('demo-warning');
                        
                        if (user) { 
                            loginForm.classList.add('hidden'); 
                            panel.classList.remove('hidden'); 
                            if(demoWarning) demoWarning.classList.add('hidden');
                        } else { 
                            loginForm.classList.remove('hidden'); 
                            panel.classList.add('hidden'); 
                        }
                    });

                    fetchBlogPosts(); // Tenta buscar do servidor
                } catch (e) {
                    console.error("Erro Firebase:", e);
                    // N√£o mostra alerta para o usu√°rio final, apenas usa fallback silenciosamente
                }
            } else {
                console.warn("Modo Demo: Configure o Firebase no c√≥digo para salvar dados.");
                const demoWarning = document.getElementById('demo-warning');
                if(demoWarning) demoWarning.classList.remove('hidden');
                renderBlog(); // Renderiza fallback
            }
        }

        async function fetchBlogPosts() {
            if (!db) return;
            try {
                const snap = await db.collection("posts").orderBy("createdAt", "desc").limit(10).get();
                if (!snap.empty) {
                    blogPosts = []; // Limpa fallback se tiver dados reais
                    snap.forEach(doc => blogPosts.push({ id: doc.id, ...doc.data() }));
                    renderBlog();
                }
            } catch (e) {
                console.warn("Falha ao buscar posts. Usando fallback.");
            }
        }

        // RENDERIZA√á√ÉO DO BLOG
        function renderBlog() {
            const grids = [document.getElementById('home-blog-grid'), document.getElementById('blog-list-container')];
            grids.forEach(grid => {
                if(!grid) return;
                grid.innerHTML = blogPosts.map(post => `
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition cursor-pointer flex flex-col h-full" onclick="openArticle('${post.id}')">
                        <div class="h-48 overflow-hidden relative"><img src="${post.image}" class="w-full h-full object-cover transform hover:scale-105 transition duration-500"><span class="absolute top-4 left-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-black z-20">${post.category}</span></div>
                        <div class="p-6 flex-1 flex flex-col"><span class="text-xs text-gray-500 mb-2 block">${post.date}</span><h3 class="text-xl font-bold text-black mb-3 hover:text-brand-600 transition">${post.title}</h3><p class="text-gray-600 text-sm mb-4 line-clamp-3 flex-1">${post.intro}</p><span class="text-brand-600 font-semibold text-sm flex items-center gap-1 mt-auto">Ler artigo <i class="ph-bold ph-arrow-right"></i></span></div>
                    </div>
                `).join('');
            });
        }

        function renderCards(filter) {
            const container = document.getElementById('cards-container');
            if(!container) return;
            const filtered = (filter === 'todos') ? cardsData : cardsData.filter(c => c.categories.includes(filter));
            container.innerHTML = filtered.map(card => `
                <div class="card-enter bg-white rounded-2xl shadow-sm hover:shadow-xl transition overflow-hidden border border-gray-100 flex flex-col">
                    <div class="p-6 flex flex-col items-center bg-gradient-to-b from-gray-50 to-white">
                        <div class="w-full h-40 ${card.bgClass} rounded-xl mb-6 shadow-md relative flex items-center justify-center text-white overflow-hidden">
                            <span class="font-bold text-2xl relative z-10">${card.name}</span>
                            ${card.isInter ? `<div class="absolute w-20 h-20 ${card.iconBg} rounded-full top-0 right-0 opacity-50"></div>` : `<div class="absolute inset-0 ${card.iconBg} opacity-50 transform ${card.rotation} translate-y-10"></div>`}
                        </div>
                        <h3 class="text-xl font-bold text-black">${card.name}</h3>
                        <div class="flex flex-wrap justify-center gap-2 mt-2">${card.badges.map(b => `<span class="text-xs font-semibold ${b.color} px-2 py-1 rounded">${b.text}</span>`).join('')}</div>
                    </div>
                    <div class="px-6 py-4 space-y-3 flex-1">
                        <div class="flex justify-between text-sm border-b border-gray-100 pb-2"><span class="text-gray-500">Anuidade</span><span class="font-medium text-black">${card.annuity}</span></div>
                        <div class="flex justify-between text-sm border-b border-gray-100 pb-2"><span class="text-gray-500">Renda</span><span class="font-medium text-black">${card.income}</span></div>
                        <p class="text-sm text-gray-600 mt-4">${card.desc}</p>
                    </div>
                    <div class="p-6 pt-0 mt-auto"><a href="${card.link}" target="_blank" class="block w-full text-center bg-brand-400 hover:bg-brand-500 text-black font-bold py-3 rounded-lg transition">Solicitar Cart√£o <i class="ph ph-arrow-up-right"></i></a><p class="text-[10px] text-gray-400 text-center mt-2 leading-tight">An√°lise realizada pelo emissor.</p></div>
                </div>
            `).join('');
        }

        // L√ìGICA DE LOGIN COM TIMEOUT E FEEDBACK
        function handleLogin(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const errorMsg = document.getElementById('login-error');
            const email = document.getElementById('login-email').value;
            const pass = document.getElementById('login-password').value;

            btn.innerText = "Processando...";
            btn.disabled = true;
            btn.classList.add('opacity-50', 'cursor-not-allowed');
            errorMsg.classList.add('hidden');

            if (!isFirebaseInitialized) {
                // Modo Demo
                setTimeout(() => { 
                    alert("Modo Demo: Login simulado (sem banco de dados)."); 
                    document.getElementById('admin-login').classList.add('hidden'); 
                    document.getElementById('admin-panel').classList.remove('hidden'); 
                    btn.innerText = "Entrar"; 
                    btn.disabled = false; 
                    btn.classList.remove('opacity-50', 'cursor-not-allowed');
                }, 1000);
                return;
            }

            // Race condition: Timeout de 10s
            const timeout = new Promise((_, reject) => setTimeout(() => reject(new Error("Tempo limite excedido. Verifique sua conex√£o.")), 10000));
            const login = auth.signInWithEmailAndPassword(email, pass);

            Promise.race([login, timeout])
                .then(() => { 
                    btn.innerText = "Sucesso!";
                    // O AuthStateListener cuidar√° da troca de tela
                }) 
                .catch(err => {
                    console.error(err);
                    let msg = "Erro desconhecido.";
                    if (err.code === 'auth/invalid-credential' || err.code === 'auth/user-not-found' || err.code === 'auth/wrong-password') msg = "E-mail ou senha incorretos.";
                    else if (err.code === 'auth/too-many-requests') msg = "Muitas tentativas. Aguarde um momento.";
                    else msg = err.message;

                    errorMsg.textContent = "Erro: " + msg;
                    errorMsg.classList.remove('hidden');
                    btn.innerText = "Entrar";
                    btn.disabled = false;
                    btn.classList.remove('opacity-50', 'cursor-not-allowed');
                });
        }

        function handleLogout() { if(auth) auth.signOut(); else window.location.reload(); }

        function addNewPost(e) {
            e.preventDefault();
            if(!db) { alert("Modo Demo: Post salvo localmente (n√£o persistente)."); return; }
            const post = {
                title: document.getElementById('admin-title').value,
                category: document.getElementById('admin-category').value,
                author: document.getElementById('admin-author').value,
                image: document.getElementById('admin-image').value,
                intro: document.getElementById('admin-intro').value,
                content: document.getElementById('admin-content').value,
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                date: new Date().toLocaleDateString('pt-BR')
            };
            db.collection("posts").add(post).then(() => { alert("Postado com sucesso!"); e.target.reset(); fetchBlogPosts(); }).catch(err => alert("Erro ao salvar: " + err.message));
        }

        // NAVEGA√á√ÉO E AN√öNCIOS (SEM TRAVAMENTOS)
        function navigateTo(id) {
            document.querySelectorAll('.page-section').forEach(s => s.classList.add('hidden-section'));
            const section = document.getElementById(id);
            if(section) {
                section.classList.remove('hidden-section');
                section.classList.remove('fade-in');
                void section.offsetWidth; // Trigger reflow
                section.classList.add('fade-in');
                window.scrollTo(0,0);
                
                // L√≥gica Simplificada de AdSense para evitar erros de renderiza√ß√£o
                // Apenas tenta dar push se o slot estiver vis√≠vel
                setTimeout(() => {
                    try {
                        const slots = section.querySelectorAll('ins.adsbygoogle');
                        slots.forEach(slot => {
                            if (slot.innerHTML === "") { // S√≥ carrega se estiver vazio
                                (adsbygoogle = window.adsbygoogle || []).push({});
                            }
                        });
                    } catch (e) { console.log("AdSense info: ", e); }
                }, 500);
            }
        }
        
        function openArticle(id) {
            const post = blogPosts.find(p => p.id == id);
            if(!post) return;
            document.getElementById('post-title').textContent = post.title;
            document.getElementById('post-category').textContent = post.category;
            // Autor pode n√£o existir no objeto post, verificar antes
            document.getElementById('post-author').textContent = 'Por ' + (post.author || 'Reda√ß√£o');
            document.getElementById('post-date').textContent = post.date;
            
            // Limpa conte√∫do anterior
            const contentDiv = document.getElementById('post-content');
            contentDiv.innerHTML = '';
            
            // Cria elementos para evitar inje√ß√£o direta de strings mal formadas
            const introP = document.createElement('p');
            introP.className = 'text-xl leading-relaxed mb-8 font-medium text-gray-800 intro-text';
            introP.textContent = post.intro;
            
            const bodyDiv = document.createElement('div');
            bodyDiv.className = 'body-content';
            bodyDiv.innerHTML = post.content; // HTML permitido para o corpo
            
            contentDiv.appendChild(introP);
            contentDiv.appendChild(bodyDiv);
            
            navigateTo('blog-post');
        }

        // SIMULADOR
        const loanPartners = [
            { name: "Nubank", url: "https://nubank.com.br/" }, { name: "Inter", url: "https://inter.co/" }
        ];
        function updateLiveCalculation() {
            const v = document.getElementById('loan-amount').value, t = document.getElementById('loan-term').value;
            if(v > 0) document.getElementById('live-installment').textContent = (v * 0.035 * Math.pow(1.035, t) / (Math.pow(1.035, t) - 1)).toLocaleString('pt-BR', {style:'currency', currency:'BRL'});
        }
        function calculateFinalLoan(e) {
            e.preventDefault();
            const res = document.getElementById('loan-result'), cont = document.getElementById('loan-recommendations-container');
            cont.innerHTML = loanPartners.map(p => `
                <div onclick="openOffer('${p.name}', '${p.url}')" class="flex justify-between items-center p-3 bg-white border rounded-lg hover:border-brand-400 cursor-pointer mb-2">
                    <span class="font-bold">${p.name}</span><span class="text-sm text-brand-600 font-bold">Ver Oferta ></span>
                </div>`).join('');
            res.classList.remove('hidden');
        }
        function openOffer(name, url) {
            document.getElementById('offer-partner-name').textContent = name;
            document.getElementById('offer-cta-btn').onclick = () => window.open(url, '_blank');
            navigateTo('offer-screen');
        }
        function toggleMobileMenu() { document.getElementById('mobile-menu').classList.toggle('hidden'); }

        // COOKIES
        function checkCookies() { if (!localStorage.getItem('cookiesAccepted')) document.getElementById('cookie-banner').classList.remove('translate-y-full'); }
        function acceptCookies() { localStorage.setItem('cookiesAccepted', 'true'); document.getElementById('cookie-banner').classList.add('translate-y-full'); }
    </script>
</body>
</html>
