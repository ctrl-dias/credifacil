<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="CrediFácil - O seu guia definitivo para sair das dívidas, conseguir cartões de crédito e empréstimos com as melhores taxas.">
    <meta name="keywords" content="empréstimo, cartão de crédito, nome sujo, score, finanças, limpar nome, educação financeira">
    <meta name="author" content="CrediFácil">
    <meta name="robots" content="index, follow">
     
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1017585624443150" crossorigin="anonymous"></script>

    <!-- FIREBASE SDKs -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <title>CrediFácil | Guia de Crédito e Finanças Pessoais</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300&display=swap" rel="stylesheet">
    
    <!-- Ícones -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { 
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    colors: {
                        brand: {
                            50: '#FEFCE8', 100: '#FEF9C3', 400: '#FACC15', 500: '#EAB308', 600: '#CA8A04', 900: '#713F12',
                        },
                        navy: { 800: '#18181b', 900: '#000000' }
                    }
                }
            }
        }
    </script>

    <style>
        body { -webkit-font-smoothing: antialiased; }
        
        /* Animações de Transição */
        .fade-in { animation: fadeIn 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .animate-pulse-custom { animation: pulse-custom 0.3s ease-in-out; }
        @keyframes pulse-custom { 0% { transform: scale(1); } 50% { transform: scale(1.3) rotate(-10deg); } 100% { transform: scale(1); } }

        .hidden-section { display: none !important; }
        .page-wrapper { display: flex; flex-direction: column; min-height: 100vh; }
        main { flex: 1; }
        
        /* Modal e Overlays */
        .modal-overlay { background-color: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px); }

        /* Ad Slot */
        .ad-slot { 
            display: block; margin: 2rem auto; background-color: #f3f4f6; 
            min-height: 90px; width: 100%; text-align: center; overflow: hidden; 
            border-radius: 8px; display: flex; align-items: center; justify-content: center;
        }
        .ad-slot::before { content: 'Publicidade'; color: #9ca3af; font-size: 0.75rem; font-weight: 600; letter-spacing: 0.05em; text-transform: uppercase; }

        .input-simulator:focus { border-color: #FACC15; box-shadow: 0 0 0 3px rgba(250, 204, 21, 0.3); }

        /* --- EDITOR RICO --- */
        .rich-editor-toolbar {
            border-bottom: 1px solid #e5e7eb; padding: 10px; background: #f9fafb;
            border-radius: 8px 8px 0 0; display: flex; gap: 6px; flex-wrap: wrap;
        }
        .rich-editor-btn {
            background: white; border: 1px solid #d1d5db; padding: 6px 10px;
            border-radius: 6px; cursor: pointer; font-size: 14px; color: #374151; font-weight: 600;
        }
        .rich-editor-btn:hover { background: #e5e7eb; color: #000; }
        
        /* Estilos do Editor e do Artigo (Consistentes) */
        .rich-editor-content, .rich-content {
            font-family: 'Merriweather', serif; color: #374151; line-height: 1.8;
        }
        .rich-editor-content {
            min-height: 350px; padding: 20px; border: 1px solid #d1d5db; border-top: none;
            border-radius: 0 0 8px 8px; outline: none; background: white; overflow-y: auto;
        }
        .rich-editor-content:focus { border-color: #FACC15; box-shadow: 0 0 0 3px rgba(250, 204, 21, 0.1); }
        
        /* Tipografia Rica */
        .rich-content h1, .rich-editor-content h1 { font-family: 'Inter', sans-serif; font-size: 2.25em; font-weight: 800; margin: 1.5em 0 0.5em; color: #111; line-height: 1.2; }
        .rich-content h2, .rich-editor-content h2 { font-family: 'Inter', sans-serif; font-size: 1.75em; font-weight: 700; margin: 1.5em 0 0.5em; color: #1f2937; border-left: 4px solid #FACC15; padding-left: 1rem; }
        .rich-content h3, .rich-editor-content h3 { font-family: 'Inter', sans-serif; font-size: 1.4em; font-weight: 600; margin: 1.25em 0 0.5em; color: #374151; }
        .rich-content p, .rich-editor-content p { margin-bottom: 1.25em; font-size: 1.1rem; }
        .rich-content ul, .rich-editor-content ul { list-style-type: disc !important; padding-left: 1.5em !important; margin-bottom: 1.25em; }
        .rich-content ol, .rich-editor-content ol { list-style-type: decimal !important; padding-left: 1.5em !important; margin-bottom: 1.25em; }
        .rich-content li, .rich-editor-content li { margin-bottom: 0.5em; }
        .rich-content blockquote, .rich-editor-content blockquote { border-left: 4px solid #FACC15; padding: 1.5rem; margin: 1.5em 0; background: #fffbeb; font-style: italic; color: #4b5563; border-radius: 0 8px 8px 0; }
        .rich-content b, .rich-content strong, .rich-editor-content b, .rich-editor-content strong { font-weight: 700 !important; color: #000; }
        .rich-content i, .rich-content em, .rich-editor-content i, .rich-editor-content em { font-style: italic !important; }
        .rich-content u, .rich-editor-content u { text-decoration: underline; }
        .rich-content a, .rich-editor-content a { color: #CA8A04; text-decoration: underline; text-underline-offset: 2px; font-weight: 600; }
        .rich-content img, .rich-editor-content img { max-width: 100%; height: auto; border-radius: 12px; margin: 2em 0; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 page-wrapper">

    <!-- HEADER -->
    <header class="bg-black shadow-lg sticky top-0 z-50 border-b border-gray-800">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo -->
                <a href="#home" class="flex-shrink-0 group">
                    <div class="flex items-center gap-2">
                        <div class="bg-brand-400 text-black p-2 rounded-lg group-hover:bg-brand-500 transition"><i class="ph-fill ph-coins text-2xl"></i></div>
                        <span class="font-bold text-2xl text-white tracking-tight">Credi<span class="text-brand-400">Fácil</span></span>
                    </div>
                </a>
                
                <!-- Desktop Nav -->
                <nav class="hidden md:flex space-x-8">
                    <a href="#home" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition text-sm uppercase tracking-wide">Início</a>
                    <a href="#emprestimo" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition text-sm uppercase tracking-wide">Empréstimos</a>
                    <a href="#cartoes" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition text-sm uppercase tracking-wide">Cartões</a>
                    <a href="#blog" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition text-sm uppercase tracking-wide">Blog</a>
                    <a href="#sobre" class="nav-link text-gray-300 hover:text-brand-400 font-medium transition text-sm uppercase tracking-wide">Sobre</a>
                </nav>
                
                <!-- CTA Button -->
                <div class="hidden md:flex">
                    <a href="#emprestimo" class="bg-brand-400 hover:bg-brand-500 text-black px-6 py-2.5 rounded-full font-bold transition shadow-lg flex items-center gap-2 transform hover:-translate-y-0.5">
                        <span>Simular Agora</span><i class="ph-bold ph-lightning"></i>
                    </a>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button onclick="toggleMobileMenu()" class="text-white hover:text-brand-400 p-2"><i class="ph ph-list text-3xl"></i></button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-zinc-900 border-t border-gray-800 absolute w-full left-0 shadow-2xl">
            <div class="px-4 pt-2 pb-6 space-y-2">
                <a href="#home" onclick="toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Início</a>
                <a href="#emprestimo" onclick="toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Simulador</a>
                <a href="#cartoes" onclick="toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Cartões</a>
                <a href="#blog" onclick="toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-gray-300 hover:bg-black hover:text-brand-400 rounded-md">Blog</a>
                <a href="#admin" onclick="toggleMobileMenu()" class="block px-3 py-3 text-base font-medium text-brand-400 font-bold hover:bg-black rounded-md">Área Admin</a>
            </div>
        </div>
    </header>

    <main id="app-content" class="relative">
        
        <!-- ================= HOME ================= -->
        <section id="home" class="page-section fade-in">
            <!-- Hero Section -->
            <div class="bg-black text-white relative overflow-hidden border-b border-gray-800">
                <div class="absolute top-0 right-0 w-2/3 h-full bg-gradient-to-l from-brand-900/20 to-transparent pointer-events-none"></div>
                <div class="container mx-auto px-4 py-20 lg:py-32 relative z-10">
                    <div class="max-w-4xl mx-auto text-center">
                        <span class="bg-brand-400/10 text-brand-400 px-4 py-1.5 rounded-full text-sm font-bold tracking-wider uppercase mb-8 inline-block border border-brand-400/20">Liberdade Financeira ao seu alcance</span>
                        <h1 class="text-4xl md:text-6xl lg:text-7xl font-extrabold leading-tight mb-8">Saia do vermelho e recupere o seu <span class="text-brand-400 inline-block transform hover:scale-105 transition cursor-default">Crédito</span>.</h1>
                        <p class="text-lg md:text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed">
                            Acesse nosso comparador de cartões para negativados, simule empréstimos com taxas justas e aprenda a investir com nosso conteúdo educativo.
                        </p>
                        <div class="flex flex-col sm:flex-row gap-4 justify-center">
                            <a href="#blog" class="bg-brand-400 hover:bg-brand-500 text-black px-8 py-4 rounded-xl font-bold text-lg transition shadow-[0_0_20px_rgba(250,204,21,0.3)] hover:shadow-[0_0_30px_rgba(250,204,21,0.5)]">Ler Artigos</a>
                            <a href="#cartoes" class="bg-white/5 hover:bg-white/10 backdrop-blur-md text-white border border-white/20 px-8 py-4 rounded-xl font-bold text-lg transition flex items-center justify-center gap-2">Buscar Cartão <i class="ph-bold ph-credit-card"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="container mx-auto px-4 -mt-8 relative z-20">
                <div class="ad-slot shadow-lg bg-white rounded-lg border border-gray-200">
                    <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins>
                </div>
            </div>

            <div class="container mx-auto px-4 py-24">
                <div class="grid md:grid-cols-3 gap-8">
                    <a href="#cartoes" class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group flex flex-col items-center text-center">
                        <div class="bg-gray-900 w-16 h-16 rounded-2xl flex items-center justify-center text-brand-400 mb-6 group-hover:scale-110 group-hover:rotate-3 transition duration-300 shadow-lg"><i class="ph-fill ph-cards text-3xl"></i></div>
                        <h3 class="text-2xl font-bold text-black mb-3">Cartões Aprovados</h3>
                        <p class="text-gray-600 leading-relaxed">Ranking atualizado de cartões que aprovam negativados e oferecem limites iniciais altos.</p>
                    </a>
                    <a href="#emprestimo" class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group flex flex-col items-center text-center">
                        <div class="bg-brand-50 w-16 h-16 rounded-2xl flex items-center justify-center text-brand-600 mb-6 group-hover:scale-110 group-hover:-rotate-3 transition duration-300 shadow-lg"><i class="ph-fill ph-calculator text-3xl"></i></div>
                        <h3 class="text-2xl font-bold text-black mb-3">Simulador Rápido</h3>
                        <p class="text-gray-600 leading-relaxed">Calcule parcelas reais. Saiba exatamente quanto vai pagar antes de contratar qualquer crédito.</p>
                    </a>
                    <a href="#blog" class="bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition border border-gray-100 group flex flex-col items-center text-center">
                        <div class="bg-gray-100 w-16 h-16 rounded-2xl flex items-center justify-center text-gray-700 mb-6 group-hover:scale-110 transition duration-300 shadow-lg"><i class="ph-fill ph-trend-up text-3xl"></i></div>
                        <h3 class="text-2xl font-bold text-black mb-3">Aumente seu Score</h3>
                        <p class="text-gray-600 leading-relaxed">Estratégias comprovadas para subir sua pontuação no Serasa e Boa Vista em tempo recorde.</p>
                    </a>
                </div>
            </div>

            <!-- Home Blog Feed -->
            <div class="bg-gray-50 py-24 border-t border-gray-200">
                <div class="container mx-auto px-4">
                    <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-4">
                        <div>
                            <span class="text-brand-600 font-bold uppercase tracking-wider text-sm">Blog & Notícias</span>
                            <h2 class="text-3xl md:text-4xl font-bold text-black mt-2">Últimas Atualizações</h2>
                        </div>
                        <a href="#blog" class="px-6 py-3 bg-white border border-gray-300 hover:border-black rounded-full text-black font-semibold transition flex items-center gap-2 group">
                            Ver todos os artigos <i class="ph-bold ph-arrow-right group-hover:translate-x-1 transition"></i>
                        </a>
                    </div>
                    <!-- Grid limitado a 4 posts -->
                    <div id="home-blog-grid" class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- Carregado via JS -->
                    </div>
                </div>
            </div>
        </section>

        <!-- ================= EMPRÉSTIMOS ================= -->
        <section id="emprestimo" class="page-section hidden-section fade-in">
            <div class="bg-black text-white py-20 relative overflow-hidden">
                <div class="absolute inset-0 bg-brand-600/10"></div>
                <div class="container mx-auto px-4 text-center relative z-10">
                    <h1 class="text-4xl md:text-5xl font-bold mb-6">Simulador de Empréstimo</h1>
                    <p class="text-gray-400 max-w-2xl mx-auto text-lg">Compare taxas, prazos e encontre a parcela que cabe no seu bolso sem comprometer sua renda.</p>
                </div>
            </div>
            
            <div class="container mx-auto px-4 py-16">
                <div class="grid lg:grid-cols-12 gap-12 items-start">
                    <!-- Coluna Principal (Formulário) -->
                    <div class="lg:col-span-7 bg-white p-8 md:p-10 rounded-3xl shadow-xl border border-gray-100 relative overflow-hidden">
                         <div class="absolute top-0 left-0 w-full h-2 bg-brand-400"></div>
                        <div class="flex items-center gap-3 mb-8">
                            <div class="bg-brand-100 p-3 rounded-xl text-brand-600"><i class="ph-fill ph-calculator text-2xl"></i></div>
                            <h3 class="text-2xl font-bold text-black">Faça sua Simulação</h3>
                        </div>
                        
                        <form id="loan-form" onsubmit="calculateFinalLoan(event)" class="space-y-8">
                            <div>
                                <label class="block text-sm font-bold text-gray-700 mb-3 uppercase tracking-wide">Valor Desejado (R$)</label>
                                <div class="relative">
                                    <span class="absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 font-bold">R$</span>
                                    <input type="number" id="loan-amount" oninput="updateLiveCalculation()" class="input-simulator w-full pl-12 pr-4 py-4 border border-gray-300 rounded-xl focus:outline-none transition text-xl font-bold text-black placeholder-gray-300" placeholder="5.000,00" min="500" step="100" required>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3 uppercase tracking-wide">Prazo de Pagamento</label>
                                    <select id="loan-term" onchange="updateLiveCalculation()" class="input-simulator w-full px-4 py-4 border border-gray-300 rounded-xl focus:outline-none bg-white text-black font-medium text-lg cursor-pointer">
                                        <option value="12">12 meses</option>
                                        <option value="24">24 meses</option>
                                        <option value="36">36 meses</option>
                                        <option value="48">48 meses</option>
                                        <option value="60">60 meses</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-bold text-gray-700 mb-3 uppercase tracking-wide">CPF (Apenas números)</label>
                                    <input type="text" id="loan-cpf" class="input-simulator w-full px-4 py-4 border border-gray-300 rounded-xl focus:outline-none text-lg" placeholder="000.000.000-00">
                                </div>
                            </div>

                            <!-- Live Preview Box -->
                            <div id="live-preview" class="bg-gray-50 p-6 rounded-2xl border border-gray-200 hidden transition-all duration-300">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-500 font-medium">Estimativa Mensal:</span>
                                    <div class="text-right">
                                        <span class="text-3xl font-bold text-brand-600 block" id="live-installment">R$ 0,00</span>
                                        <span class="text-xs text-gray-400">Taxa estimada de 3.5% a.m.</span>
                                    </div>
                                </div>
                            </div>

                            <button type="submit" class="w-full bg-black hover:bg-gray-800 text-white font-bold py-5 rounded-xl transition transform hover:-translate-y-1 shadow-lg flex items-center justify-center gap-3 text-lg">
                                Buscar Ofertas <i class="ph-bold ph-magnifying-glass"></i>
                            </button>
                        </form>
                        
                        <!-- Resultado da Simulação -->
                        <div id="loan-result" class="hidden mt-10 pt-10 border-t border-gray-100 animate-fade-in">
                            <div class="bg-green-50 border border-green-200 rounded-2xl p-6 mb-6">
                                <div class="flex items-start gap-4">
                                    <div class="bg-green-100 p-2 rounded-full text-green-700 mt-1"><i class="ph-fill ph-check-circle text-xl"></i></div>
                                    <div>
                                        <h4 class="font-bold text-green-900 text-lg">Pré-aprovação Encontrada!</h4>
                                        <p class="text-green-800 text-sm mt-1">Baseado no seu perfil, selecionamos os parceiros abaixo.</p>
                                    </div>
                                </div>
                            </div>
                            <div id="loan-recommendations-container" class="space-y-4">
                                <!-- Cards inseridos via JS -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- Sidebar Informativa -->
                    <div class="lg:col-span-5 space-y-8">
                        <div class="bg-gray-50 p-8 rounded-3xl border border-gray-200">
                            <h3 class="text-xl font-bold text-black mb-6">Por que simular conosco?</h3>
                            <ul class="space-y-6">
                                <li class="flex gap-4">
                                    <div class="bg-white p-2 rounded-lg shadow-sm h-10 w-10 flex items-center justify-center text-brand-600"><i class="ph-fill ph-shield-check text-xl"></i></div>
                                    <div><h4 class="font-bold text-gray-900">Segurança Total</h4><p class="text-sm text-gray-600 mt-1">Seus dados são criptografados e nunca compartilhados sem permissão.</p></div>
                                </li>
                                <li class="flex gap-4">
                                    <div class="bg-white p-2 rounded-lg shadow-sm h-10 w-10 flex items-center justify-center text-brand-600"><i class="ph-fill ph-clock text-xl"></i></div>
                                    <div><h4 class="font-bold text-gray-900">Resposta Rápida</h4><p class="text-sm text-gray-600 mt-1">Receba o dinheiro na conta em até 24h após a aprovação.</p></div>
                                </li>
                                <li class="flex gap-4">
                                    <div class="bg-white p-2 rounded-lg shadow-sm h-10 w-10 flex items-center justify-center text-brand-600"><i class="ph-fill ph-percent text-xl"></i></div>
                                    <div><h4 class="font-bold text-gray-900">Juros Competitivos</h4><p class="text-sm text-gray-600 mt-1">Buscamos as taxas mais baixas do mercado para seu CPF.</p></div>
                                </li>
                            </ul>
                        </div>
                        <div class="ad-slot bg-white rounded-2xl shadow-sm border border-gray-100"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ================= CARTOES ================= -->
        <section id="cartoes" class="page-section hidden-section fade-in">
            <div class="bg-gray-50 border-b border-gray-200 py-16">
                <div class="container mx-auto px-4 text-center">
                    <h1 class="text-4xl font-bold text-black mb-4">Escolha seu Cartão Ideal</h1>
                    <p class="text-gray-600 max-w-2xl mx-auto text-lg">Use nossos filtros inteligentes para encontrar o cartão que aprova o seu perfil.</p>
                </div>
            </div>
            
            <div class="container mx-auto px-4 py-12">
                <!-- Filtros -->
                <div class="flex flex-wrap gap-3 justify-center mb-16">
                    <button onclick="filterCards('todos')" id="btn-todos" class="filter-btn active px-6 py-3 bg-black text-white rounded-xl text-sm font-bold transition shadow-lg transform hover:-translate-y-0.5">Todos</button>
                    <button onclick="filterCards('anuidade')" id="btn-anuidade" class="filter-btn px-6 py-3 bg-white border border-gray-200 text-gray-600 hover:border-brand-400 hover:text-black rounded-xl text-sm font-bold transition shadow-sm hover:shadow-md">Sem Anuidade</button>
                    <button onclick="filterCards('negativados')" id="btn-negativados" class="filter-btn px-6 py-3 bg-white border border-gray-200 text-gray-600 hover:border-brand-400 hover:text-black rounded-xl text-sm font-bold transition shadow-sm hover:shadow-md">Para Negativados</button>
                    <button onclick="filterCards('milhas')" id="btn-milhas" class="filter-btn px-6 py-3 bg-white border border-gray-200 text-gray-600 hover:border-brand-400 hover:text-black rounded-xl text-sm font-bold transition shadow-sm hover:shadow-md">Milhas e Cashback</button>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8" id="cards-container">
                    <!-- Cards via JS -->
                </div>
            </div>
        </section>

        <!-- ================= BLOG (Completo) ================= -->
        <section id="blog" class="page-section hidden-section fade-in">
            <div class="bg-white py-16 border-b border-gray-100">
                <div class="container mx-auto px-4 text-center">
                    <span class="text-brand-600 font-bold tracking-widest text-xs uppercase mb-2 block">Educação Financeira</span>
                    <h1 class="text-4xl md:text-5xl font-extrabold text-black mb-6">Blog CrediFácil</h1>
                    <p class="text-gray-500 max-w-2xl mx-auto text-lg">Conteúdo aprofundado para você dominar seu dinheiro.</p>
                </div>
            </div>

            <div class="bg-gray-50 min-h-screen py-12">
                <div class="container mx-auto px-4 grid lg:grid-cols-12 gap-8">
                    <!-- Conteúdo Principal -->
                    <div class="lg:col-span-8">
                        <!-- Filtros Categoria -->
                        <div class="flex flex-wrap gap-2 justify-center lg:justify-start mb-12">
                            <button onclick="filterBlog('todos')" class="blog-filter-btn px-4 py-2 bg-black text-white rounded-lg text-sm font-bold">Todos</button>
                            <button onclick="filterBlog('Score')" class="blog-filter-btn px-4 py-2 bg-white border border-gray-200 hover:border-black text-gray-600 hover:text-black rounded-lg text-sm font-medium transition">Score</button>
                            <button onclick="filterBlog('Cartões')" class="blog-filter-btn px-4 py-2 bg-white border border-gray-200 hover:border-black text-gray-600 hover:text-black rounded-lg text-sm font-medium transition">Cartões</button>
                            <button onclick="filterBlog('Empréstimos')" class="blog-filter-btn px-4 py-2 bg-white border border-gray-200 hover:border-black text-gray-600 hover:text-black rounded-lg text-sm font-medium transition">Empréstimos</button>
                            <button onclick="filterBlog('Dívidas')" class="blog-filter-btn px-4 py-2 bg-white border border-gray-200 hover:border-black text-gray-600 hover:text-black rounded-lg text-sm font-medium transition">Dívidas</button>
                        </div>

                        <div id="blog-list-container" class="grid md:grid-cols-2 gap-8">
                            <!-- Renderização completa via JS -->
                        </div>
                        
                        <!-- Paginação -->
                        <div id="pagination-controls" class="flex justify-center items-center gap-2 mt-16">
                            <!-- Injetado via JS -->
                        </div>
                    </div>

                    <!-- Sidebar do Blog -->
                    <aside class="lg:col-span-4 space-y-8">
                        <!-- Widget Mais Lidos -->
                        <div class="bg-white p-6 rounded-2xl border border-gray-200 shadow-sm">
                            <h4 class="font-bold text-lg mb-4 flex items-center gap-2"><i class="ph-fill ph-fire text-orange-500"></i> Mais Lidos</h4>
                            <div id="trending-posts-widget" class="space-y-4">
                                <!-- Preenchido via JS -->
                            </div>
                        </div>
                        <div class="ad-slot bg-white rounded-xl shadow-sm border border-gray-200"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                    </aside>
                </div>
            </div>
        </section>

        <!-- ================= POST INDIVIDUAL ================= -->
        <section id="blog-post" class="page-section hidden-section fade-in">
            <div class="bg-white min-h-screen">
                <!-- Cabeçalho do Artigo -->
                <div class="bg-black text-white py-24 relative overflow-hidden">
                     <div class="absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-80 z-10"></div>
                     <!-- Imagem de fundo opcional aqui se quiser -->
                    <div class="container mx-auto px-4 max-w-4xl text-center relative z-20">
                        <a href="#blog" class="inline-flex items-center gap-2 text-gray-400 hover:text-white mb-8 transition font-medium"><i class="ph-bold ph-arrow-left"></i> Voltar para o Blog</a>
                        <div class="mb-6"><span id="post-category" class="bg-brand-400 text-black px-3 py-1 rounded-md text-xs font-bold uppercase tracking-wider shadow-lg">Categoria</span></div>
                        <h1 id="post-title" class="text-3xl md:text-5xl lg:text-6xl font-extrabold mb-8 leading-tight font-serif text-white">Título do Artigo</h1>
                        <div class="flex flex-wrap items-center justify-center gap-6 text-gray-400 text-sm font-medium border-t border-gray-800 pt-8 mt-8 w-full max-w-lg mx-auto">
                            <div class="flex items-center gap-2"><i class="ph-fill ph-user-circle text-brand-400 text-lg"></i> <span id="post-author">Autor</span></div>
                            <div class="flex items-center gap-2"><i class="ph-fill ph-clock text-brand-400 text-lg"></i> <span id="post-date">Data</span></div>
                        </div>
                    </div>
                </div>

                <div class="container mx-auto px-4 py-16 flex flex-col lg:flex-row gap-16">
                    <!-- Conteúdo Principal -->
                    <article class="lg:w-[65%] mx-auto">
                        
                        <div id="post-content" class="rich-content text-lg text-gray-800">
                            <!-- Injetado via JS -->
                        </div>

                         <!-- Share Bar (Bottom) -->
                         <div class="mt-12 mb-8 border-t border-b border-gray-100 py-6 flex flex-wrap items-center gap-4 justify-center">
                            <span class="text-sm font-bold text-gray-500 uppercase tracking-wide flex items-center mr-2">Compartilhar Artigo:</span>
                            <button onclick="sharePost('whatsapp')" class="bg-white text-gray-400 border border-gray-200 p-3 rounded-full hover:text-[#25D366] hover:border-[#25D366] transition shadow-sm"><i class="ph-fill ph-whatsapp-logo text-xl"></i></button>
                            <button onclick="sharePost('facebook')" class="bg-white text-gray-400 border border-gray-200 p-3 rounded-full hover:text-[#1877F2] hover:border-[#1877F2] transition shadow-sm"><i class="ph-fill ph-facebook-logo text-xl"></i></button>
                            <button onclick="sharePost('twitter')" class="bg-white text-gray-400 border border-gray-200 p-3 rounded-full hover:text-black hover:border-black transition shadow-sm"><i class="ph-fill ph-x-logo text-xl"></i></button>
                        </div>
                        
                        <!-- Engagement Box (DESIGN MELHORADO) -->
                        <div class="mt-8 bg-gray-50 rounded-2xl p-8 border border-gray-200">
                            <div class="flex flex-col sm:flex-row items-center justify-between gap-6 mb-8 border-b border-gray-200 pb-8">
                                <div>
                                    <h3 class="text-xl font-bold text-black mb-1">Gostou da leitura?</h3>
                                    <p class="text-gray-500 text-sm">Deixe seu joinha para sabermos que este conteúdo ajudou.</p>
                                </div>
                                <button id="like-btn" onclick="toggleLike()" class="flex items-center gap-4 px-10 py-4 bg-white border-2 border-gray-100 hover:border-brand-400 rounded-full transition-all group shadow-sm transform hover:-translate-y-1">
                                    <i id="like-icon" class="ph-bold ph-thumbs-up text-3xl text-gray-300 group-hover:text-brand-500 transition duration-300"></i>
                                    <span id="like-count" class="font-bold text-gray-700 text-xl">0</span>
                                </button>
                            </div>

                            <h4 class="text-lg font-bold mb-6 flex items-center gap-2"><i class="ph-bold ph-chat-circle-text"></i> Comentários (<span id="comment-count">0</span>)</h4>
                            
                            <div id="comments-list" class="space-y-4 mb-8 max-h-[600px] overflow-y-auto custom-scrollbar pr-2"></div>

                            <form onsubmit="submitComment(event)" class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm mt-6">
                                <h5 class="text-sm font-bold mb-4">Deixe seu comentário</h5>
                                <div class="mb-4">
                                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Seu Nome</label>
                                    <input type="text" id="comment-name" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black focus:ring-1 focus:ring-black outline-none transition" required>
                                </div>
                                <div class="mb-4">
                                    <label class="block text-xs font-bold text-gray-500 uppercase mb-1">Comentário</label>
                                    <textarea id="comment-text" rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:border-black focus:ring-1 focus:ring-black outline-none transition resize-none" required></textarea>
                                </div>
                                <button type="submit" class="bg-black text-white px-6 py-2 rounded-lg font-bold hover:bg-gray-800 transition text-sm">Publicar Comentário</button>
                            </form>
                        </div>
                    </article>

                    <!-- Sidebar -->
                    <aside class="lg:w-[30%] space-y-8 hidden lg:block">
                        <div class="sticky top-24 space-y-8">
                            <div class="bg-brand-50 p-6 rounded-2xl border border-brand-100">
                                <h4 class="font-bold text-brand-900 mb-2">Simulação Rápida</h4>
                                <p class="text-sm text-brand-800 mb-4">Precisa de dinheiro urgente? Simule sem compromisso.</p>
                                <a href="#emprestimo" class="block w-full text-center bg-brand-500 hover:bg-brand-600 text-white font-bold py-3 rounded-lg transition shadow-md">Simular Agora</a>
                            </div>
                            <div class="ad-slot bg-white rounded-xl shadow-sm border border-gray-200"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-1017585624443150" data-ad-slot="1234567890" data-ad-format="auto" data-full-width-responsive="true"></ins></div>
                        </div>
                    </aside>
                </div>
            </div>
        </section>

        <!-- ================= ADMIN ================= -->
        <section id="admin" class="page-section hidden-section fade-in">
            <div class="bg-gray-100 min-h-screen py-16">
                <div class="container mx-auto px-4 max-w-6xl">
                    <div class="flex justify-between items-center mb-8">
                        <h1 class="text-3xl font-bold text-black">Painel Administrativo</h1>
                        <div id="admin-user-info" class="hidden flex items-center gap-4">
                            <span class="text-sm text-gray-600 font-medium bg-white px-3 py-1 rounded-full border">Admin Logado</span>
                            <button onclick="handleLogout()" class="text-sm text-red-600 font-bold hover:underline">Sair</button>
                        </div>
                    </div>
                    
                    <!-- Login Form -->
                    <div id="admin-login" class="bg-white p-10 rounded-2xl border border-gray-200 shadow-xl max-w-md mx-auto">
                        <div class="text-center mb-8">
                            <div class="bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-gray-600"><i class="ph-fill ph-lock-key text-3xl"></i></div>
                            <h2 class="text-2xl font-bold text-black">Acesso Restrito</h2>
                        </div>
                        <form onsubmit="handleLogin(event)" class="space-y-5">
                            <div><label class="block text-sm font-bold text-gray-700 mb-2">E-mail</label><input type="email" id="login-email" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black outline-none transition" required></div>
                            <div><label class="block text-sm font-bold text-gray-700 mb-2">Senha</label><input type="password" id="login-password" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-black outline-none transition" required></div>
                            <button type="submit" class="w-full bg-black text-white hover:bg-gray-800 font-bold py-3 rounded-lg transition shadow-lg">Entrar no Painel</button>
                            <p id="login-error" class="text-red-500 text-sm text-center hidden font-bold bg-red-50 p-2 rounded-lg"></p>
                        </form>
                    </div>

                    <!-- Dashboard Inteligente -->
                    <div id="admin-panel" class="hidden flex flex-col gap-8">
                        
                        <!-- Cards de Estatísticas -->
                        <div class="grid md:grid-cols-4 gap-6">
                            <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4">
                                <div class="bg-blue-50 p-3 rounded-lg text-blue-600"><i class="ph-fill ph-article text-2xl"></i></div>
                                <div><p class="text-sm text-gray-500 font-medium">Total de Posts</p><h3 id="stat-total-posts" class="text-2xl font-bold text-gray-900">0</h3></div>
                            </div>
                            <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4">
                                <div class="bg-green-50 p-3 rounded-lg text-green-600"><i class="ph-fill ph-eye text-2xl"></i></div>
                                <div><p class="text-sm text-gray-500 font-medium">Visualizações Totais</p><h3 id="stat-total-views" class="text-2xl font-bold text-gray-900">0</h3></div>
                            </div>
                            <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4">
                                <div class="bg-purple-50 p-3 rounded-lg text-purple-600"><i class="ph-fill ph-heart text-2xl"></i></div>
                                <div><p class="text-sm text-gray-500 font-medium">Engajamento (Likes)</p><h3 id="stat-total-likes" class="text-2xl font-bold text-gray-900">0</h3></div>
                            </div>
                            <!-- Card Notificações -->
                            <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm flex items-center gap-4">
                                <div class="bg-red-50 p-3 rounded-lg text-red-600"><i class="ph-fill ph-bell text-2xl"></i></div>
                                <div><p class="text-sm text-gray-500 font-medium">Novas Notificações</p><h3 id="stat-notifications" class="text-2xl font-bold text-gray-900">0</h3></div>
                            </div>
                        </div>

                        <!-- Área de Notificações -->
                        <div id="admin-notifications-area" class="bg-white p-6 rounded-2xl border border-gray-200 shadow-sm">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center gap-2"><i class="ph-fill ph-bell-ringing text-brand-600"></i> Últimas Notificações</h3>
                            <div id="notifications-list" class="space-y-3 max-h-60 overflow-y-auto custom-scrollbar">
                                <p class="text-gray-400 text-sm">Nenhuma notificação recente.</p>
                            </div>
                        </div>

                        <div class="grid lg:grid-cols-3 gap-8 items-start">
                            <!-- Coluna 1: Lista de Posts -->
                            <div class="lg:col-span-1 bg-white rounded-2xl border border-gray-200 shadow-sm flex flex-col h-auto">
                                <div class="p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center shrink-0">
                                    <h3 class="font-bold text-gray-800">Gerenciar Posts</h3>
                                    <button onclick="resetAdminForm()" class="text-xs bg-brand-400 px-3 py-2 rounded-lg font-bold hover:bg-brand-500 transition flex items-center gap-2" title="Novo Post"><i class="ph-bold ph-plus"></i> Novo</button>
                                </div>
                                <div id="admin-posts-list" class="p-4 space-y-2 max-h-[600px] overflow-y-auto custom-scrollbar">
                                    <!-- Lista de posts preenchida via JS -->
                                    <p class="text-center text-gray-400 text-sm py-4">Carregando posts...</p>
                                </div>
                            </div>

                            <!-- Coluna 2: Formulário de Edição -->
                            <div class="lg:col-span-2 bg-white p-8 rounded-2xl border border-gray-200 shadow-sm">
                                <h2 class="text-xl font-bold text-black mb-6 flex items-center gap-2" id="form-title">
                                    <i class="ph-fill ph-pencil-simple text-brand-500"></i> Adicionar Novo Artigo
                                </h2>
                                <form onsubmit="savePost(event)" class="space-y-6">
                                    <input type="hidden" id="admin-post-id"> <!-- ID oculto para edição -->
                                    
                                    <div><label class="block text-sm font-bold text-gray-700 mb-2">Título do Post</label><input type="text" id="admin-title" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-brand-500 outline-none transition" required></div>
                                    
                                    <div class="grid grid-cols-2 gap-6">
                                        <div><label class="block text-sm font-bold text-gray-700 mb-2">Categoria</label><select id="admin-category" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-brand-500 outline-none bg-white"><option>Score</option><option>Cartões</option><option>Empréstimos</option><option>Dívidas</option><option>Educação</option></select></div>
                                        <div><label class="block text-sm font-bold text-gray-700 mb-2">Autor</label><input type="text" id="admin-author" value="Redação CrediFácil" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-brand-500 outline-none"></div>
                                    </div>
                                    
                                    <div><label class="block text-sm font-bold text-gray-700 mb-2">URL da Imagem de Capa</label><input type="text" id="admin-image" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-brand-500 outline-none" placeholder="https://..." required></div>
                                    
                                    <div><label class="block text-sm font-bold text-gray-700 mb-2">Resumo (Intro)</label><textarea id="admin-intro" rows="3" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:border-brand-500 outline-none resize-none"></textarea></div>
                                    
                                    <!-- Editor Rico -->
                                    <div>
                                        <label class="block text-sm font-bold text-gray-700 mb-2">Conteúdo Completo</label>
                                        <div class="rich-editor-toolbar">
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('bold')" title="Negrito"><b>B</b></button>
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('italic')" title="Itálico"><i>I</i></button>
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('underline')" title="Sublinhado"><u>U</u></button>
                                            <div class="w-px h-6 bg-gray-300 mx-1"></div>
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('formatBlock', 'h2')" title="Subtítulo H2">H2</button>
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('formatBlock', 'h3')" title="Subtítulo H3">H3</button>
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('formatBlock', 'p')" title="Parágrafo">P</button>
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('formatBlock', 'blockquote')" title="Citação">“</button>
                                            <div class="w-px h-6 bg-gray-300 mx-1"></div>
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('insertUnorderedList')" title="Lista">• Lista</button>
                                            <button type="button" class="rich-editor-btn" onclick="formatDoc('insertOrderedList')" title="Numerada">1. Lista</button>
                                            <button type="button" class="rich-editor-btn" onclick="addLink()" title="Link">Link</button>
                                            <button type="button" class="rich-editor-btn font-bold text-brand-600" onclick="insertImage()" title="Inserir Imagem"><i class="ph-bold ph-image"></i> IMG</button>
                                        </div>
                                        <div id="admin-content-rich" contenteditable="true" class="rich-editor-content"></div>
                                    </div>

                                    <button type="submit" id="admin-submit-btn" class="w-full bg-black hover:bg-gray-800 text-white font-bold py-4 rounded-xl transition shadow-lg text-lg">Publicar Artigo</button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ================= SOBRE ================= -->
        <section id="sobre" class="page-section hidden-section fade-in">
            <div class="bg-white py-24">
                <div class="container mx-auto px-4 max-w-4xl text-center">
                    <div class="inline-block p-5 rounded-3xl bg-brand-50 text-brand-600 mb-8"><i class="ph-fill ph-users-three text-5xl"></i></div>
                    <h1 class="text-4xl md:text-5xl font-bold text-black mb-8">Nossa Missão</h1>
                    <div class="prose prose-lg mx-auto text-gray-600 leading-relaxed space-y-6 text-left md:text-center">
                        <p>O <strong>CrediFácil</strong> nasceu de uma necessidade real: simplificar o acesso ao crédito no Brasil. Sabemos que mais de 60 milhões de brasileiros enfrentam restrições financeiras e a falta de informação clara apenas agrava o problema.</p>
                        <p>Não somos um banco. Somos uma plataforma de tecnologia e educação que conecta você às melhores oportunidades do mercado, filtrando burocracias e traduzindo o "economês" para o português claro.</p>
                        <p>Acreditamos que todos merecem uma segunda chance e acesso a produtos financeiros justos. Por isso, trabalhamos incansavelmente para trazer as melhores opções de cartões e empréstimos, mesmo para quem está negativado.</p>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-8 mt-16 text-left">
                        <div class="p-6 bg-gray-50 rounded-2xl border border-gray-100">
                            <h3 class="font-bold text-black text-xl mb-2">Transparência</h3>
                            <p class="text-gray-600 text-sm">Nunca cobramos valores antecipados. Nossas simulações mostram custos reais e sem letras miúdas.</p>
                        </div>
                        <div class="p-6 bg-gray-50 rounded-2xl border border-gray-100">
                            <h3 class="font-bold text-black text-xl mb-2">Segurança</h3>
                            <p class="text-gray-600 text-sm">Seguimos rigorosamente a LGPD. Seus dados são criptografados e usados apenas para a simulação solicitada.</p>
                        </div>
                        <div class="p-6 bg-gray-50 rounded-2xl border border-gray-100">
                            <h3 class="font-bold text-black text-xl mb-2">Imparcialidade</h3>
                            <p class="text-gray-600 text-sm">Nossas análises de cartões e empréstimos são baseadas em fatos técnicos, não apenas em comissões.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- ================= LEGAL (TERMOS & PRIVACIDADE) ================= -->
        <section id="terms" class="page-section hidden-section fade-in">
            <div class="bg-white py-20">
                <div class="container mx-auto px-4 max-w-3xl">
                    <h1 class="text-3xl font-bold text-black mb-8 pb-4 border-b border-gray-200">Termos de Uso</h1>
                    <div class="prose prose-gray text-gray-700 space-y-4">
                        <p><strong>Última atualização: Janeiro de 2025</strong></p>
                        <p>Bem-vindo ao CrediFácil. Ao acessar e utilizar este website, você concorda expressamente em cumprir e vincular-se aos seguintes termos e condições de uso, que regem a relação entre o CrediFácil e você.</p>
                        
                        <h3 class="font-bold text-black text-xl mt-6">1. Natureza Informativa e Não-Bancária</h3>
                        <p>O CrediFácil é estritamente um portal de conteúdo, educação financeira e comparação de produtos. <strong>Não somos uma instituição financeira, banco ou seguradora</strong>. Não concedemos empréstimos, não emitimos cartões de crédito e não realizamos aprovações de crédito diretamente. Nosso papel é intermediar a informação.</p>
                        
                        <h3 class="font-bold text-black text-xl mt-6">2. Isenção de Responsabilidade sobre Aprovações</h3>
                        <p>As simulações apresentadas em nosso site são estimativas baseadas em dados médios de mercado. A aprovação final do crédito, as taxas de juros exatas, o Custo Efetivo Total (CET) e os limites de crédito são de responsabilidade exclusiva dos parceiros anunciantes (bancos, financeiras e fintechs). A concessão de crédito está sujeita à análise do perfil financeiro do usuário por essas instituições.</p>
                        <p>O CrediFácil não se responsabiliza por eventuais divergências entre os valores simulados em nossa plataforma e os valores finais ofertados pela instituição financeira no momento da contratação.</p>

                        <h3 class="font-bold text-black text-xl mt-6">3. Uso de Links Externos</h3>
                        <p>Nosso site contém links que redirecionam para sites de terceiros (bancos parceiros, anunciantes, etc.). Ao clicar nestes links, você estará sujeito aos termos de uso e políticas de privacidade daquele site específico. Não temos controle sobre o conteúdo ou práticas de sites de terceiros e não assumimos responsabilidade por eles.</p>

                        <h3 class="font-bold text-black text-xl mt-6">4. Cobranças</h3>
                        <p>O uso do CrediFácil é totalmente gratuito para o usuário final. <strong>Jamais solicitamos depósitos antecipados</strong> para liberação de crédito ou taxas de análise. Caso alguém solicite pagamento em nome do CrediFácil, denuncie imediatamente, pois trata-se de fraude.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="privacy" class="page-section hidden-section fade-in">
            <div class="bg-white py-20">
                <div class="container mx-auto px-4 max-w-3xl">
                    <h1 class="text-3xl font-bold text-black mb-8 pb-4 border-b border-gray-200">Política de Privacidade</h1>
                    <div class="prose prose-gray text-gray-700 space-y-4">
                        <p>A sua privacidade é uma prioridade absoluta para o CrediFácil. Esta política descreve detalhadamente como coletamos, usamos, armazenamos e protegemos suas informações pessoais, em estrita conformidade com a Lei Geral de Proteção de Dados (LGPD - Lei nº 13.709/2018).</p>

                        <h3 class="font-bold text-black text-xl mt-6">1. Coleta de Dados</h3>
                        <p>Podemos coletar as seguintes categorias de informações:</p>
                        <ul class="list-disc pl-5">
                            <li><strong>Dados fornecidos por você:</strong> Informações inseridas voluntariamente nos simuladores ou formulários de contato, como nome, e-mail, faixa de renda estimada e perfil de crédito.</li>
                            <li><strong>Dados de navegação:</strong> Endereço IP, tipo de navegador, páginas visitadas e tempo de permanência, coletados de forma anonimizada para fins estatísticos e de melhoria da experiência.</li>
                        </ul>

                        <h3 class="font-bold text-black text-xl mt-6">2. Finalidade do Uso das Informações</h3>
                        <p>Os dados coletados são utilizados para:</p>
                        <ul class="list-disc pl-5">
                            <li>Personalizar as ofertas de crédito e cartões exibidas no simulador, adequando-as ao seu perfil financeiro.</li>
                            <li>Melhorar a funcionalidade, o design e o conteúdo do site baseando-se no comportamento dos usuários.</li>
                            <li>Enviar comunicações de marketing, newsletters ou alertas de novas ofertas, mas <strong>apenas mediante seu consentimento explícito (opt-in)</strong>.</li>
                        </ul>

                        <h3 class="font-bold text-black text-xl mt-6">3. Cookies e Publicidade (Google AdSense)</h3>
                        <p>Utilizamos cookies para otimizar sua experiência de navegação. Terceiros, incluindo o Google, usam cookies para veicular anúncios com base em suas visitas anteriores ao nosso website ou a outros websites.</p>
                        <p>Você pode optar por desativar a publicidade personalizada acessando as Configurações de Anúncios do Google ou ajustando as configurações do seu navegador para recusar cookies. Note que isso pode afetar a funcionalidade de algumas partes do site.</p>

                        <h3 class="font-bold text-black text-xl mt-6">4. Seus Direitos (LGPD)</h3>
                        <p>Você tem o direito de solicitar, a qualquer momento:</p>
                        <ul class="list-disc pl-5">
                            <li>A confirmação da existência de tratamento de seus dados.</li>
                            <li>O acesso aos dados que possuímos sobre você.</li>
                            <li>A correção de dados incompletos, inexatos ou desatualizados.</li>
                            <li>A anonimização, bloqueio ou eliminação de dados desnecessários ou tratados em desconformidade com a lei.</li>
                        </ul>
                        <p>Para exercer esses direitos, entre em contato conosco através do nosso canal oficial de atendimento.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ================= OFFER SCREEN ================= -->
        <section id="offer-screen" class="page-section hidden-section fade-in">
            <div class="min-h-screen bg-gray-50 flex flex-col justify-center py-12">
                <div class="container mx-auto px-4 max-w-xl">
                    <div class="bg-white rounded-3xl shadow-2xl overflow-hidden border border-gray-200">
                        <div class="bg-black p-8 text-center text-white">
                            <h2 class="text-2xl font-bold mb-2">Oferta Selecionada</h2>
                            <p class="text-gray-400 text-sm">Parceiro Oficial CrediFácil</p>
                        </div>
                        <div class="p-8">
                            <div class="text-center mb-8">
                                <h3 id="offer-partner-name" class="text-3xl font-extrabold text-brand-600 mb-2">Banco Parceiro</h3>
                                <p class="text-gray-500">Crédito Pré-Aprovado</p>
                            </div>
                            
                            <div class="bg-gray-50 rounded-xl p-6 mb-8 border border-gray-100">
                                <div class="flex justify-between items-center mb-4 border-b border-gray-200 pb-4">
                                    <span class="text-gray-600 font-medium">Valor Solicitado</span>
                                    <span id="offer-value" class="text-xl font-bold text-black">R$ 0,00</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-600 font-medium">Condições</span>
                                    <span id="offer-installments" class="text-xl font-bold text-brand-600">12x R$ 0,00</span>
                                </div>
                            </div>

                            <ul class="space-y-3 mb-8 text-sm text-gray-600">
                                <li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500"></i> Sem taxa de adesão antecipada.</li>
                                <li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500"></i> Análise 100% digital.</li>
                            </ul>

                            <button id="offer-cta-btn" class="w-full bg-brand-400 hover:bg-brand-500 text-black font-bold py-4 rounded-xl transition transform hover:-translate-y-1 shadow-lg text-lg flex items-center justify-center gap-2 mb-4">
                                Concluir no Site Oficial <i class="ph-bold ph-arrow-right"></i>
                            </button>
                            <a href="#emprestimo" class="block text-center text-gray-400 hover:text-black text-sm font-medium">Cancelar e Voltar</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Modal de Confirmação -->
    <div id="delete-modal" class="hidden fixed inset-0 z-[100] flex items-center justify-center modal-overlay">
        <div class="bg-white rounded-xl shadow-2xl p-8 max-w-sm w-full mx-4 animate-fade-in">
            <div class="text-center">
                <div class="bg-red-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 text-red-600">
                    <i class="ph-bold ph-trash text-3xl"></i>
                </div>
                <h3 class="text-xl font-bold text-gray-900 mb-2">Excluir Comentário?</h3>
                <p class="text-gray-500 text-sm mb-6">Esta ação não pode ser desfeita. O comentário será removido permanentemente.</p>
                <div class="flex gap-3 justify-center">
                    <button onclick="closeDeleteModal()" class="px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-bold transition">Cancelar</button>
                    <button id="confirm-delete-btn" class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-bold transition shadow-lg">Sim, Excluir</button>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="bg-black text-gray-400 py-16 border-t border-gray-900 font-sans mt-auto">
        <div class="container mx-auto px-4">
            <div class="grid md:grid-cols-4 gap-12 mb-12">
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center gap-2 text-white mb-6">
                        <i class="ph-fill ph-coins text-brand-400 text-2xl"></i>
                        <span class="font-bold text-2xl">CrediFácil</span>
                    </div>
                    <p class="text-sm leading-relaxed mb-6 max-w-md">Nossa missão é democratizar o acesso à informação financeira, ajudando brasileiros a saírem das dívidas e realizarem seus sonhos com crédito consciente.</p>
                    <div class="text-xs text-gray-500">
                        <p>Contato: contato@credifacil.com</p>
                        <p>São Paulo, SP - Brasil</p>
                    </div>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-6 text-sm uppercase tracking-wider">Navegação</h4>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#home" class="hover:text-brand-400 transition">Início</a></li>
                        <li><a href="#emprestimo" class="hover:text-brand-400 transition">Simulador</a></li>
                        <li><a href="#cartoes" class="hover:text-brand-400 transition">Melhores Cartões</a></li>
                        <li><a href="#blog" class="hover:text-brand-400 transition">Blog Educativo</a></li>
                    </ul>
                </div>
                <div>
                    <h4 class="text-white font-bold mb-6 text-sm uppercase tracking-wider">Institucional</h4>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#sobre" class="hover:text-brand-400 transition">Quem Somos</a></li>
                        <li><a href="#terms" class="hover:text-brand-400 transition">Termos de Uso</a></li>
                        <li><a href="#privacy" class="hover:text-brand-400 transition">Política de Privacidade</a></li>
                        <li><a href="#admin" class="hover:text-brand-400 transition text-gray-600">Área Restrita</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="border-t border-gray-800 pt-8 pb-8 text-[11px] leading-5 text-gray-600 text-justify">
                <p class="mb-2"><strong>Aviso Legal:</strong> O CrediFácil não é uma instituição financeira. Somos um correspondente bancário digital que facilita o acesso a produtos financeiros. As taxas de juros, prazos e condições de pagamento variam de acordo com a análise de crédito de cada parceiro.</p>
                <p>O prazo de pagamento varia de 12 a 60 meses. O Custo Efetivo Total (CET) varia de 2,99% a.m. (42,5% a.a.) a 12,99% a.m. (334,1% a.a.). Exemplo: Empréstimo de R$ 5.000,00 para pagar em 12 meses. Total de 12 parcelas de R$ 515,60. Valor total a pagar R$ 6.187,20.</p>
            </div>

            <div class="text-center text-sm pt-6 border-t border-gray-900 flex flex-col md:flex-row justify-between items-center">
                <p>&copy; 2025 CrediFácil. Todos os direitos reservados.</p>
                <div class="flex gap-4 mt-4 md:mt-0 text-2xl">
                    <i class="ph-fill ph-instagram-logo hover:text-brand-400 cursor-pointer transition"></i>
                    <i class="ph-fill ph-facebook-logo hover:text-brand-400 cursor-pointer transition"></i>
                    <i class="ph-fill ph-linkedin-logo hover:text-brand-400 cursor-pointer transition"></i>
                </div>
            </div>
        </div>
    </footer>

    <!-- JS DO APP -->
    <script>
        // PARCEIROS DO SIMULADOR (Movido para o topo absoluto para evitar erros)
        const loanPartners = [
            { name: "Nubank", url: "https://nubank.com.br/" }, 
            { name: "Banco Inter", url: "https://inter.co/" }, 
            { name: "Jeitto", url: "https://www.jeitto.com.br/" }, 
            { name: "Simplic", url: "https://www.simplic.com.br/" }
        ];

        const firebaseConfig = {
            apiKey: "AIzaSyCJA-eq22kpGxAfHBDCcMu8BGb8_I8NGlk",
            authDomain: "credifacil-ddb17.firebaseapp.com",
            projectId: "credifacil-ddb17",
            storageBucket: "credifacil-ddb17.firebasestorage.app",
            messagingSenderId: "473150441862",
            appId: "1:473150441862:web:8f7b1945fa27c519c90407"
        };

        let db, auth;
        let allBlogPosts = []; 
        let currentEditingId = null; 
        let currentBlogPage = 1;
        const postsPerPage = 6;
        let currentBlogCategory = 'todos';

        // Dados de Cartões
        const cardsData = [
            { id: 1, name: "Santander SX", bgClass: "bg-red-600", iconBg: "bg-red-700", rotation: "rotate-45", badges: [{ text: "Aprovação Alta", color: "bg-green-100 text-green-700" }, { text: "Visa/Master", color: "bg-blue-100 text-blue-700" }], annuity: "Grátis (gastando R$100)", income: "R$ 1.045,00", desc: "Ideal para quem busca o primeiro cartão ou quer recuperar crédito.", link: "https://www.santander.com.br/cartao-credito-santander/sx", categories: ["todos", "negativados"] },
            { id: 2, name: "Roxinho Nubank", bgClass: "bg-purple-700", iconBg: "bg-purple-800", rotation: "-rotate-12", badges: [{ text: "Sem Anuidade", color: "bg-purple-100 text-purple-700" }], annuity: "R$ 0,00", income: "Não exigida", desc: "Controle total pelo app e atendimento humanizado.", link: "https://nubank.com.br/cartao/", categories: ["todos", "anuidade"] },
            { id: 3, name: "Inter Gold", bgClass: "bg-orange-500", iconBg: "bg-orange-400", isInter: true, badges: [{ text: "Cashback", color: "bg-orange-100 text-orange-700" }], annuity: "Grátis", income: "Não exigida", desc: "Super App completo com investimentos e shopping.", link: "https://inter.co/pra-voce/cartoes/", categories: ["todos", "milhas"] },
            { id: 7, name: "Will Bank", bgClass: "bg-yellow-400", iconBg: "bg-yellow-500", rotation: "rotate-12", badges: [{ text: "Fácil Aprovação", color: "bg-black text-white" }], annuity: "Grátis", income: "Não exigida", desc: "Cartão de crédito sem anuidade e sem burocracia.", link: "https://www.willbank.com.br/", categories: ["todos", "anuidade", "negativados"] },
            { id: 8, name: "Digio", bgClass: "bg-blue-800", iconBg: "bg-blue-900", rotation: "-rotate-3", badges: [{ text: "Sem Rotativo", color: "bg-blue-100 text-blue-700" }], annuity: "Grátis", income: "Salário Mínimo", desc: "Sem juros rotativos abusivos e totalmente digital.", link: "https://www.digio.com.br/", categories: ["todos", "anuidade"] }
        ];

        // --- INICIALIZAÇÃO ---
        document.addEventListener('DOMContentLoaded', () => {
            initFirebase();
            renderCards('todos');
            handleHashChange(); 
            window.addEventListener('hashchange', handleHashChange); 
        });

        // --- HELPER DE DATA ---
        function formatDate(timestamp) {
            if (!timestamp) return '';
            const date = timestamp.toDate ? timestamp.toDate() : new Date(timestamp);
            return date.toLocaleDateString('pt-BR', { 
                day: '2-digit', 
                month: '2-digit', 
                year: 'numeric', 
                hour: '2-digit', 
                minute: '2-digit' 
            }).replace(',', ' às');
        }

        // --- ROTEAMENTO ---
        function handleHashChange() {
            let hash = window.location.hash.replace('#', '') || 'home';
            
            if (hash.startsWith('artigo-')) {
                const postId = hash.replace('artigo-', '');
                if (allBlogPosts.length === 0) return; 
                openArticle(postId);
                return; 
            }

            document.querySelectorAll('.page-section').forEach(s => s.classList.add('hidden-section'));
            
            const section = document.getElementById(hash);
            if(section) {
                section.classList.remove('hidden-section');
                section.classList.remove('fade-in');
                void section.offsetWidth; 
                section.classList.add('fade-in');
                window.scrollTo(0,0);
                setTimeout(() => {
                    try {
                        section.querySelectorAll('ins.adsbygoogle').forEach(slot => {
                            if (slot.innerHTML === "") (adsbygoogle = window.adsbygoogle || []).push({});
                        });
                    } catch (e) {}
                }, 500);
            }
        }
        
        function navigateToHash(hash) { window.location.hash = hash; }

        function initFirebase() {
            try {
                firebase.initializeApp(firebaseConfig);
                db = firebase.firestore();
                auth = firebase.auth();
                
                auth.onAuthStateChanged(user => {
                    const loginForm = document.getElementById('admin-login');
                    const panel = document.getElementById('admin-panel');
                    const userInfo = document.getElementById('admin-user-info');
                    
                    if (user) { 
                        loginForm.classList.add('hidden'); 
                        panel.classList.remove('hidden'); 
                        panel.classList.add('flex');
                        userInfo.classList.remove('hidden');
                        loadAdminPostsList(); 
                        updateAdminStats(); 
                        loadAdminNotifications(); 
                    } else { 
                        loginForm.classList.remove('hidden'); 
                        panel.classList.add('hidden'); 
                        panel.classList.remove('flex');
                        userInfo.classList.add('hidden');
                    }
                });

                fetchBlogPosts();
            } catch (e) {
                console.error("Erro Firebase:", e);
            }
        }

        // --- BLOG E LÓGICA ---
        async function fetchBlogPosts() {
            if (!db) return;
            try {
                const snap = await db.collection("posts").orderBy("createdAt", "desc").limit(100).get();
                if (!snap.empty) {
                    allBlogPosts = [];
                    snap.forEach(doc => allBlogPosts.push({ id: doc.id, ...doc.data() }));
                    renderHomeBlog();
                    renderBlogPage('todos');
                    renderTrendingPosts(); 
                    if(auth.currentUser) updateAdminStats();
                    
                    if (window.location.hash.startsWith('#artigo-')) {
                        handleHashChange();
                    }
                }
            } catch (e) { console.warn("Erro fetchBlog:", e); }
        }

        function renderTrendingPosts() {
            const container = document.getElementById('trending-posts-widget');
            if(!container) return;
            const trending = [...allBlogPosts].sort((a, b) => (b.views || 0) - (a.views || 0)).slice(0, 5);
            container.innerHTML = trending.map((post, index) => `
                <div onclick="openArticle('${post.id}')" class="flex gap-3 cursor-pointer group items-start">
                    <span class="text-2xl font-bold text-gray-200 group-hover:text-brand-400 transition">0${index + 1}</span>
                    <div>
                        <h5 class="font-bold text-gray-800 text-sm leading-tight group-hover:text-brand-600 transition line-clamp-2">${post.title}</h5>
                    </div>
                </div>
            `).join(''); // REMOVIDO A VISUALIZAÇÃO DE VIEWS AQUI
        }

        function updateAdminStats() {
            const totalPosts = allBlogPosts.length;
            const totalViews = allBlogPosts.reduce((acc, curr) => acc + (curr.views || 0), 0);
            const totalLikes = allBlogPosts.reduce((acc, curr) => acc + (curr.likes || 0), 0);
            document.getElementById('stat-total-posts').textContent = totalPosts;
            document.getElementById('stat-total-views').textContent = totalViews;
            document.getElementById('stat-total-likes').textContent = totalLikes;
        }

        function loadAdminNotifications() {
            const list = document.getElementById('notifications-list');
            const countBadge = document.getElementById('stat-notifications');
            
            db.collection('notifications').orderBy('timestamp', 'desc').limit(20).onSnapshot(snap => {
                const unread = snap.docs.filter(d => !d.data().read).length;
                countBadge.textContent = unread;
                
                if (snap.empty) {
                    list.innerHTML = '<p class="text-gray-400 text-sm">Nenhuma notificação.</p>';
                    return;
                }

                list.innerHTML = snap.docs.map(doc => {
                    const n = doc.data();
                    const icon = n.type === 'comment' ? 'ph-chat-circle-text' : 'ph-bell';
                    const time = formatDate(n.timestamp);
                    return `
                        <div onclick="openArticle('${n.postId}')" class="p-3 bg-gray-50 hover:bg-gray-100 rounded-lg cursor-pointer flex items-start gap-3 border border-gray-100">
                            <div class="bg-brand-100 text-brand-600 p-2 rounded-full"><i class="ph-fill ${icon}"></i></div>
                            <div>
                                <p class="text-sm text-gray-800 font-bold">${n.userName} <span class="font-normal text-gray-500">comentou em:</span></p>
                                <p class="text-xs text-brand-600 font-bold truncate max-w-[200px]">${n.postTitle}</p>
                                <span class="text-[10px] text-gray-400">${time}</span>
                            </div>
                        </div>
                    `;
                }).join('');
            });
        }

        function renderHomeBlog() {
            const grid = document.getElementById('home-blog-grid');
            if(!grid) return;
            const recentPosts = allBlogPosts.slice(0, 4);
            grid.innerHTML = recentPosts.map(post => `
                <div class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-lg transition cursor-pointer group flex flex-col h-full" onclick="openArticle('${post.id}')">
                    <div class="h-40 overflow-hidden relative">
                        <img src="${post.image}" class="w-full h-full object-cover group-hover:scale-105 transition duration-500">
                        <span class="absolute top-3 left-3 bg-white/90 backdrop-blur text-xs font-bold px-2 py-1 rounded text-black">${post.category}</span>
                    </div>
                    <div class="p-5 flex-1 flex flex-col">
                        <h3 class="font-bold text-gray-900 mb-2 leading-tight group-hover:text-brand-600 transition line-clamp-2">${post.title}</h3>
                        <p class="text-gray-500 text-xs mb-3 line-clamp-3 flex-1">${post.intro}</p>
                        <span class="text-brand-600 text-xs font-bold flex items-center gap-1 mt-auto">Ler mais <i class="ph-bold ph-arrow-right"></i></span>
                    </div>
                </div>
            `).join('');
        }

        function filterBlog(category) {
            currentBlogCategory = category;
            currentBlogPage = 1;
            document.querySelectorAll('.blog-filter-btn').forEach(btn => {
                btn.className = "blog-filter-btn px-4 py-2 bg-white border border-gray-200 hover:border-black text-gray-600 hover:text-black rounded-lg text-sm font-medium transition";
            });
            event.target.className = "blog-filter-btn px-4 py-2 bg-black text-white rounded-lg text-sm font-bold shadow-md";
            renderBlogPage();
        }

        function renderBlogPage() {
            const container = document.getElementById('blog-list-container');
            const paginationContainer = document.getElementById('pagination-controls');
            if(!container) return;
            
            const filtered = (currentBlogCategory === 'todos') ? allBlogPosts : allBlogPosts.filter(p => p.category === currentBlogCategory);
            
            if(filtered.length === 0) {
                container.innerHTML = `<div class="col-span-full text-center py-12"><p class="text-gray-500">Nenhum artigo encontrado nesta categoria.</p></div>`;
                paginationContainer.innerHTML = '';
                return;
            }

            const totalPages = Math.ceil(filtered.length / postsPerPage);
            const startIndex = (currentBlogPage - 1) * postsPerPage;
            const endIndex = startIndex + postsPerPage;
            const postsToShow = filtered.slice(startIndex, endIndex);

            container.innerHTML = postsToShow.map(post => `
                <div class="bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl transition cursor-pointer flex flex-col group h-full" onclick="openArticle('${post.id}')">
                    <div class="h-52 overflow-hidden relative">
                        <img src="${post.image}" class="w-full h-full object-cover group-hover:scale-105 transition duration-700">
                        <div class="absolute bottom-0 left-0 w-full h-1/2 bg-gradient-to-t from-black/60 to-transparent"></div>
                        <span class="absolute top-4 left-4 bg-brand-400 text-black px-3 py-1 rounded-md text-xs font-bold uppercase tracking-wide">${post.category}</span>
                    </div>
                    <div class="p-6 flex-1 flex flex-col">
                        <div class="flex items-center gap-2 text-xs text-gray-400 mb-3">
                            <span>${formatDate(post.createdAt)}</span>
                        </div>
                        <h3 class="text-xl font-bold text-black mb-3 group-hover:text-brand-600 transition leading-snug">${post.title}</h3>
                        <p class="text-gray-600 text-sm mb-4 line-clamp-3 flex-1 font-serif">${post.intro}</p>
                        <div class="pt-4 border-t border-gray-100 flex justify-between items-center mt-auto">
                            <span class="text-brand-600 font-bold text-sm flex items-center gap-2 group-hover:gap-3 transition-all">Ler Artigo Completo <i class="ph-bold ph-arrow-right"></i></span>
                        </div>
                    </div>
                </div>
            `).join(''); // REMOVIDO A VISUALIZAÇÃO DE VIEWS DAQUI TAMBÉM

            let paginationHTML = '';
            if (totalPages > 1) {
                for (let i = 1; i <= totalPages; i++) {
                    const activeClass = i === currentBlogPage 
                        ? 'bg-black text-white font-bold' 
                        : 'bg-white text-gray-600 border border-gray-200 hover:border-black hover:text-black';
                    paginationHTML += `<button onclick="changeBlogPage(${i})" class="w-10 h-10 rounded-lg flex items-center justify-center text-sm transition ${activeClass}">${i}</button>`;
                }
            }
            paginationContainer.innerHTML = paginationHTML;
        }

        function changeBlogPage(page) {
            currentBlogPage = page;
            renderBlogPage();
            document.getElementById('blog').scrollIntoView({behavior: 'smooth'});
        }

        function openArticle(id) {
            const post = allBlogPosts.find(p => p.id == id);
            if(!post) return;
            
            db.collection('posts').doc(id).update({
                views: firebase.firestore.FieldValue.increment(1)
            }).catch(e => console.log("Erro view update", e));

            document.getElementById('post-title').textContent = post.title;
            document.getElementById('post-category').textContent = post.category;
            document.getElementById('post-author').textContent = post.author || 'Equipe CrediFácil';
            document.getElementById('post-date').textContent = formatDate(post.createdAt);
            document.title = post.title + " | CrediFácil";
document.querySelector('meta[name="description"]').setAttribute("content", post.intro);
            const contentDiv = document.getElementById('post-content');
            contentDiv.innerHTML = `
                <p class="text-xl md:text-2xl leading-relaxed mb-10 font-medium text-gray-600 border-l-4 border-brand-400 pl-6 intro-text font-serif italic">${post.intro}</p>
                <div class="body-content">${post.content}</div>
            `;
            
            const likeCountEl = document.getElementById('like-count');
            const likeIcon = document.getElementById('like-icon');
            if(likeCountEl) likeCountEl.textContent = post.likes || 0;
            
            if(localStorage.getItem(`liked_${id}`)) {
                likeIcon.classList.add('text-brand-500', 'ph-fill');
                likeIcon.classList.remove('text-gray-300', 'ph-bold');
            } else {
                likeIcon.classList.add('text-gray-300', 'ph-bold');
                likeIcon.classList.remove('text-brand-500', 'ph-fill');
            }

            db.collection("posts").doc(id).onSnapshot(doc => {
                if(doc.exists) document.getElementById('like-count').textContent = doc.data().likes || 0;
            });
            
            loadComments(id);
            window.currentPostTitle = post.title; 
            window.location.hash = 'artigo-' + id;
            
            document.querySelectorAll('.page-section').forEach(s => s.classList.add('hidden-section'));
            const section = document.getElementById('blog-post');
            section.classList.remove('hidden-section');
            section.classList.remove('fade-in');
            void section.offsetWidth; 
            section.classList.add('fade-in');
            window.scrollTo(0,0);
        }

        let deleteTarget = null; 

        function loadComments(id) {
            const list = document.getElementById('comments-list');
            const count = document.getElementById('comment-count');
            const currentUser = auth.currentUser;

            db.collection("posts").doc(id).collection("comments").orderBy("timestamp", "desc").onSnapshot(snap => {
                count.textContent = snap.size;
                if(snap.empty) { list.innerHTML = '<p class="text-gray-400 text-sm italic">Nenhum comentário ainda.</p>'; return; }
                
                list.innerHTML = '';
                snap.forEach(d => {
                    const c = d.data();
                    const replies = c.replies || [];
                    const deleteBtn = currentUser ? 
                        `<button onclick="openDeleteModal('${id}', '${d.id}')" class="text-red-400 hover:text-red-600 ml-2" title="Excluir Comentário"><i class="ph-bold ph-trash"></i></button>` : '';
                    
                    let repliesHtml = '';
                    if(replies.length > 0) {
                        repliesHtml = replies.map(r => `
                            <div class="ml-8 mt-2 pl-4 border-l-2 border-gray-200">
                                <div class="flex justify-between items-center text-xs">
                                    <span class="font-bold ${r.isAdmin ? 'text-brand-600' : 'text-gray-800'}">${r.name} ${r.isAdmin ? '<span class="bg-brand-100 text-brand-700 px-1 rounded ml-1 text-[10px]">Admin</span>' : ''}</span>
                                    <span class="text-gray-400">Resposta</span>
                                </div>
                                <p class="text-sm text-gray-700 mt-1">${r.text}</p>
                            </div>
                        `).join('');
                    }

                    list.innerHTML += `
                        <div class="bg-gray-50 p-4 rounded-xl border border-gray-100 mb-3 relative group">
                            <div class="flex justify-between mb-1">
                                <span class="font-bold text-sm text-gray-900">${c.name}</span>
                                <div class="flex items-center text-xs text-gray-400 gap-2">
                                    <span>Recente</span>
                                    ${deleteBtn}
                                </div>
                            </div>
                            <p class="text-sm text-gray-700 leading-relaxed">${c.text}</p>
                            ${repliesHtml}
                            <div class="mt-3 pt-2 border-t border-gray-100">
                                <button onclick="toggleReplyForm('${d.id}')" class="text-xs font-bold text-gray-500 hover:text-brand-600 flex items-center gap-1 transition">
                                    <i class="ph-bold ph-arrow-bend-down-right"></i> Responder
                                </button>
                                <form id="reply-form-${d.id}" onsubmit="submitReply(event, '${id}', '${d.id}')" class="hidden mt-2 flex gap-2">
                                    <input type="text" id="reply-input-${d.id}" placeholder="Escreva uma resposta..." class="flex-1 text-xs px-3 py-2 border rounded-lg outline-none focus:border-brand-400" required>
                                    <button type="submit" class="bg-brand-400 text-black text-xs font-bold px-3 py-2 rounded-lg hover:bg-brand-500 transition">Enviar</button>
                                </form>
                            </div>
                        </div>
                    `;
                });
            });
        }

        function openDeleteModal(postId, commentId) {
            deleteTarget = { postId, commentId };
            document.getElementById('delete-modal').classList.remove('hidden');
        }

        function closeDeleteModal() {
            document.getElementById('delete-modal').classList.add('hidden');
            deleteTarget = null;
        }

        document.getElementById('confirm-delete-btn').addEventListener('click', () => {
            if(deleteTarget) {
                db.collection("posts").doc(deleteTarget.postId).collection("comments").doc(deleteTarget.commentId).delete()
                    .then(() => closeDeleteModal())
                    .catch(err => alert("Erro ao excluir: " + err.message));
            }
        });

        // --- OUTRAS FUNÇÕES ---
        function sharePost(network) {
            const url = encodeURIComponent(window.location.href);
            const text = encodeURIComponent(`Confira este artigo: ${window.currentPostTitle}`);
            let shareUrl = '';
            if(network === 'whatsapp') shareUrl = `https://api.whatsapp.com/send?text=${text} ${url}`;
            else if(network === 'facebook') shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${url}`;
            else if(network === 'twitter') shareUrl = `https://twitter.com/intent/tweet?text=${text}&url=${url}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        function formatDoc(cmd, value = null) {
            document.execCommand(cmd, false, value);
            document.getElementById('admin-content-rich').focus();
        }
        function addLink() {
            const url = prompt("Insira a URL do link:");
            if(url) document.execCommand("createLink", false, url);
        }
        function insertImage() {
            const url = prompt("Insira a URL da imagem:");
            if(url) document.execCommand("insertImage", false, url);
        }

        function loadAdminPostsList() {
            const list = document.getElementById('admin-posts-list');
            list.innerHTML = allBlogPosts.map(p => `
                <div class="flex items-center gap-2 mb-2 group">
                    <div onclick="loadPostForEdit('${p.id}')" class="flex-1 p-3 bg-gray-50 hover:bg-brand-50 border border-gray-100 rounded-lg cursor-pointer transition text-sm min-w-0">
                        <p class="font-bold text-gray-800 group-hover:text-brand-900 truncate" title="${p.title}">${p.title}</p>
                        <div class="flex justify-between mt-1 text-xs text-gray-400">
                            <span>${p.views || 0} views</span>
                            <span class="text-brand-600 font-bold group-hover:underline">Editar</span>
                        </div>
                    </div>
                    <button onclick="deletePost('${p.id}')" class="bg-white hover:bg-red-50 text-gray-400 hover:text-red-500 border border-gray-200 p-3 rounded-lg transition shrink-0" title="Excluir"><i class="ph-bold ph-trash"></i></button>
                </div>
            `).join('');
        }

        function deletePost(id) {
            if(confirm("Tem certeza que deseja excluir este post permanentemente?")) {
                db.collection("posts").doc(id).delete().then(() => {
                    alert("Post excluído com sucesso.");
                    resetAdminForm();
                    fetchBlogPosts();
                }).catch(err => alert("Erro ao excluir: " + err.message));
            }
        }

        function resetAdminForm() {
            currentEditingId = null;
            document.getElementById('form-title').innerHTML = '<i class="ph-fill ph-pencil-simple text-brand-500"></i> Adicionar Novo Artigo';
            document.getElementById('admin-submit-btn').textContent = "Publicar Artigo";
            document.forms[0].reset(); 
            document.getElementById('admin-title').value = '';
            document.getElementById('admin-intro').value = '';
            document.getElementById('admin-image').value = '';
            document.getElementById('admin-content-rich').innerHTML = '';
            document.getElementById('admin-author').value = 'Redação CrediFácil';
        }

        function loadPostForEdit(id) {
            const post = allBlogPosts.find(p => p.id === id);
            if(!post) return;
            currentEditingId = id;
            document.getElementById('form-title').innerHTML = '<i class="ph-fill ph-pencil-simple text-brand-500"></i> Editando: ' + post.title;
            document.getElementById('admin-submit-btn').textContent = "Salvar Alterações";
            document.getElementById('admin-title').value = post.title;
            document.getElementById('admin-category').value = post.category;
            document.getElementById('admin-author').value = post.author;
            document.getElementById('admin-image').value = post.image;
            document.getElementById('admin-intro').value = post.intro;
            document.getElementById('admin-content-rich').innerHTML = post.content;
        }

        function savePost(e) {
            e.preventDefault();
            if(!db) return;
            const btn = document.getElementById('admin-submit-btn');
            btn.disabled = true;
            btn.textContent = "Salvando...";
            const postData = {
                title: document.getElementById('admin-title').value,
                category: document.getElementById('admin-category').value,
                author: document.getElementById('admin-author').value,
                image: document.getElementById('admin-image').value,
                intro: document.getElementById('admin-intro').value,
                content: document.getElementById('admin-content-rich').innerHTML,
            };
            let promise;
            if (currentEditingId) {
                promise = db.collection("posts").doc(currentEditingId).update(postData);
            } else {
                postData.createdAt = firebase.firestore.FieldValue.serverTimestamp();
                postData.likes = 0;
                postData.views = 0; 
                promise = db.collection("posts").add(postData);
            }
            promise.then(() => {
                alert(currentEditingId ? "Post atualizado!" : "Post criado!");
                resetAdminForm();
                fetchBlogPosts();
                btn.disabled = false;
            }).catch(err => {
                alert("Erro: " + err.message);
                btn.disabled = false;
            });
        }

        function updateLiveCalculation() {
            const v = document.getElementById('loan-amount').value;
            const t = document.getElementById('loan-term').value;
            if(v > 0) {
                const rate = 0.035; 
                const installment = (v * rate) / (1 - Math.pow(1 + rate, -t));
                document.getElementById('live-installment').textContent = installment.toLocaleString('pt-BR', {style:'currency', currency:'BRL'});
                document.getElementById('live-preview').classList.remove('hidden');
            }
        }

        function calculateFinalLoan(e) {
            e.preventDefault();
            const container = document.getElementById('loan-recommendations-container');
            const resultDiv = document.getElementById('loan-result');
            const shuffled = [...loanPartners].sort(() => 0.5 - Math.random()).slice(0, 3);
            
            container.innerHTML = shuffled.map(p => `
                <div onclick="openOffer('${p.name}', '${p.url}')" class="flex justify-between items-center p-4 bg-white border border-gray-200 rounded-xl hover:border-brand-400 hover:shadow-md cursor-pointer transition group">
                    <div class="flex items-center gap-3">
                        <div class="w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center font-bold text-gray-700">${p.name[0]}</div>
                        <span class="font-bold text-gray-800 text-lg">${p.name}</span>
                    </div>
                    <span class="text-sm bg-brand-50 text-brand-700 font-bold px-3 py-1 rounded-lg group-hover:bg-brand-400 group-hover:text-black transition flex items-center gap-1">
                        Ver Oferta <i class="ph-bold ph-arrow-right"></i>
                    </span>
                </div>
            `).join('');
            resultDiv.classList.remove('hidden');
            resultDiv.scrollIntoView({behavior: 'smooth'});
        }

        function openOffer(partnerName, url) {
            const amount = parseFloat(document.getElementById('loan-amount').value) || 5000;
            const months = parseInt(document.getElementById('loan-term').value) || 12;
            const rate = 0.035;
            const pmt = (amount * rate) / (1 - Math.pow(1 + rate, -months));
            document.getElementById('offer-partner-name').textContent = partnerName;
            document.getElementById('offer-value').textContent = amount.toLocaleString('pt-BR', {style:'currency', currency:'BRL'});
            document.getElementById('offer-installments').textContent = `${months}x ${pmt.toLocaleString('pt-BR', {style:'currency', currency:'BRL'})}`;
            const btn = document.getElementById('offer-cta-btn');
            btn.onclick = () => window.open(url, '_blank');
            navigateToHash('offer-screen');
        }

        function filterCards(category) { renderCards(category); }

        function renderCards(filter) {
            const container = document.getElementById('cards-container');
            if(!container) return;
            document.querySelectorAll('.filter-btn').forEach(b => {
                b.className = "filter-btn px-6 py-3 bg-white border border-gray-200 text-gray-600 hover:border-brand-400 hover:text-black rounded-xl text-sm font-bold transition shadow-sm hover:shadow-md";
            });
            const activeBtn = document.getElementById(`btn-${filter}`);
            if(activeBtn) activeBtn.className = "filter-btn active px-6 py-3 bg-black text-white rounded-xl text-sm font-bold transition shadow-lg transform hover:-translate-y-0.5";
            const filtered = (filter === 'todos') ? cardsData : cardsData.filter(c => c.categories.includes(filter));
            container.innerHTML = filtered.map(card => {
                const annuityTag = card.annuity.includes('Grátis') || card.annuity === 'R$ 0,00' 
                    ? `<div class="absolute top-4 right-4 text-[10px] font-extrabold bg-green-100 text-green-700 border border-green-200 px-3 py-1 rounded-full uppercase tracking-wider shadow-sm">Zero Anuidade</div>`
                    : `<div class="absolute top-4 right-4 text-[10px] font-extrabold bg-orange-100 text-orange-700 border border-orange-200 px-3 py-1 rounded-full uppercase tracking-wider shadow-sm">Com Anuidade</div>`;
                return `
                <div class="bg-white rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 flex flex-col group overflow-hidden relative">
                    <div class="p-8 flex flex-col items-center bg-gradient-to-b from-gray-50 to-white relative">
                        ${annuityTag}
                        <div class="w-full h-44 ${card.bgClass} rounded-2xl mb-6 shadow-xl relative flex items-center justify-center text-white overflow-hidden transform group-hover:scale-105 transition duration-500">
                            <span class="font-bold text-2xl relative z-10 tracking-widest drop-shadow-md">${card.name}</span>
                            ${card.isInter ? '' : `<div class="absolute inset-0 ${card.iconBg} opacity-30 transform ${card.rotation} translate-y-12 scale-150"></div>`}
                        </div>
                        <h3 class="text-xl font-bold text-black mb-3">${card.name}</h3>
                        <div class="flex flex-wrap justify-center gap-2">${card.badges.map(b => `<span class="text-[10px] font-bold uppercase tracking-wide ${b.color} px-2 py-1 rounded-md">${b.text}</span>`).join('')}</div>
                    </div>
                    <div class="px-8 py-6 space-y-4 flex-1 bg-white">
                        <p class="text-sm text-gray-600 text-center leading-relaxed">${card.desc}</p>
                        <div class="bg-gray-50 p-4 rounded-xl flex justify-between items-center text-sm border border-gray-100">
                            <span class="text-gray-500">Renda Mínima</span>
                            <span class="font-bold text-black">${card.income}</span>
                        </div>
                    </div>
                    <div class="p-8 pt-0 mt-auto">
                        <a href="${card.link}" target="_blank" class="block w-full text-center bg-black hover:bg-brand-500 hover:text-black text-white font-bold py-4 rounded-xl transition shadow-lg flex items-center justify-center gap-2">Solicitar Agora <i class="ph-bold ph-arrow-up-right"></i></a>
                    </div>
                </div>
            `}).join('');
        }

        function toggleMobileMenu() {
            document.getElementById('mobile-menu').classList.toggle('hidden');
        }

        function handleLogin(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const err = document.getElementById('login-error');
            btn.textContent = "Verificando...";
            btn.disabled = true;
            auth.signInWithEmailAndPassword(document.getElementById('login-email').value, document.getElementById('login-password').value)
                .catch(error => {
                    err.textContent = "Erro: " + error.message;
                    err.classList.remove('hidden');
                    btn.textContent = "Entrar no Painel";
                    btn.disabled = false;
                });
        }
        function handleLogout() { auth.signOut(); }

        function toggleLike() {
            const id = window.location.hash.includes('artigo-') ? allBlogPosts.find(p => p.title === document.getElementById('post-title').textContent)?.id : null;
            if(!id) return;
             const isLiked = localStorage.getItem(`liked_${id}`);
             const ref = db.collection("posts").doc(id);
             if(isLiked) {
                 localStorage.removeItem(`liked_${id}`);
                 ref.update({ likes: firebase.firestore.FieldValue.increment(-1) });
                 document.getElementById('like-icon').classList.remove('text-brand-500', 'ph-fill');
                 document.getElementById('like-icon').classList.add('text-gray-300', 'ph-bold');
             } else {
                 localStorage.setItem(`liked_${id}`, 'true');
                 ref.update({ likes: firebase.firestore.FieldValue.increment(1) });
                 document.getElementById('like-icon').classList.add('text-brand-500', 'ph-fill');
                 document.getElementById('like-icon').classList.remove('text-gray-300', 'ph-bold');
             }
             document.getElementById('like-icon').classList.add('animate-pulse-custom');
             setTimeout(() => document.getElementById('like-icon').classList.remove('animate-pulse-custom'), 500);
        }

        function toggleReplyForm(commentId) {
            const form = document.getElementById(`reply-form-${commentId}`);
            form.classList.toggle('hidden');
        }

        function submitComment(e) {
            e.preventDefault();
            const id = allBlogPosts.find(p => p.title === document.getElementById('post-title').textContent)?.id;
            const postTitle = document.getElementById('post-title').textContent; 
            
            if(!id) return;
            const n = document.getElementById('comment-name');
            const t = document.getElementById('comment-text');
            
            db.collection("posts").doc(id).collection("comments").add({
                name: n.value, 
                text: t.value, 
                replies: [],
                timestamp: firebase.firestore.FieldValue.serverTimestamp()
            })
            .then(() => {
                return db.collection("notifications").add({
                    type: 'comment',
                    postId: id,
                    postTitle: postTitle,
                    userName: n.value,
                    timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                    read: false
                });
            })
            .then(() => { n.value=''; t.value=''; });
        }

        function submitReply(e, postId, commentId) {
            e.preventDefault();
            const input = document.getElementById(`reply-input-${commentId}`);
            const text = input.value;
            const currentUser = auth.currentUser;
            const name = currentUser ? "Admin CrediFácil" : "Usuário";
            const postTitle = document.getElementById('post-title').textContent;

            db.collection("posts").doc(postId).collection("comments").doc(commentId).update({
                replies: firebase.firestore.FieldValue.arrayUnion({
                    name: name,
                    text: text,
                    isAdmin: !!currentUser,
                    timestamp: new Date()
                })
            })
            .then(() => {
                if(!currentUser) {
                    db.collection("notifications").add({
                        type: 'reply',
                        postId: postId,
                        postTitle: postTitle,
                        userName: name,
                        timestamp: firebase.firestore.FieldValue.serverTimestamp(),
                        read: false
                    });
                }
                input.value = '';
                document.getElementById(`reply-form-${commentId}`).classList.add('hidden');
            });
        }
    </script>
</body>
</html>





